import{_ as o}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as e,c,a as n,e as p,g as s,f as a,h as l}from"./app.17eb5f9b.js";const i={},u=n("h2",{id:"mongodb-\u914D\u7F6E",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#mongodb-\u914D\u7F6E","aria-hidden":"true"},"#"),s(" MongoDB \u914D\u7F6E")],-1),r=n("h3",{id:"\u4E0B\u8F7D\u5B89\u88C5",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u4E0B\u8F7D\u5B89\u88C5","aria-hidden":"true"},"#"),s(" \u4E0B\u8F7D\u5B89\u88C5")],-1),k=s("\u5728\u5B98\u7F51\u4E0B\u8F7D\u5B89\u88C5\u5305 "),d={href:"https://www.mongodb.com/download-center/community",target:"_blank",rel:"noopener noreferrer"},v=s("MongoDB \u4E0B\u8F7D\u5730\u5740"),m=n("li",null,"\u5B89\u88C5\u65F6\u4E0D\u8981\u5B89\u88C5\u56FE\u5F62\u754C\u9762(\u5DE6\u4E0B\u89D2\u590D\u9009\u6846), \u7279\u522B\u6162",-1),b=a('<h3 id="\u542F\u52A8\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8\u670D\u52A1" aria-hidden="true">#</a> \u542F\u52A8\u670D\u52A1</h3><p>\u5047\u8BBE\u5B89\u88C5\u76EE\u5F55\u4E3A <code>E:\\mongodb</code>, <code>windows</code> \u4E0B\u7684\u659C\u6760\u4E3A <code>\\</code></p><p>\u5728 <code>MongoDB</code> \u5B89\u88C5\u76EE\u5F55\u7684 <code>\\bin</code> \u76EE\u5F55\u4E0B\u6267\u884C\u547D\u4EE4 <code>mongod --dbpath &quot;e:\\mongodb\\data&quot;</code></p><h3 id="\u547D\u4EE4\u884C\u6307\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u547D\u4EE4\u884C\u6307\u4EE4" aria-hidden="true">#</a> \u547D\u4EE4\u884C\u6307\u4EE4</h3><ol><li><code>show dbs</code> \u663E\u793A\u6240\u6709\u6570\u636E\u5E93</li><li><code>db</code> \u663E\u793A\u5F53\u524D\u6B63\u5728\u4F7F\u7528\u7684\u6570\u636E\u5E93</li><li><code>use \u8981\u4F7F\u7528\u7684\u6570\u636E\u5E93\u540D</code> \u9009\u62E9\u4F7F\u7528\u7684\u6570\u636E\u5E93</li><li><code>db.getCollectionNames()</code> \u67E5\u770B\u5F53\u524D\u6570\u636E\u5E93\u6709\u54EA\u4E9B\u8868</li></ol><h3 id="\u5176\u4ED6" tabindex="-1"><a class="header-anchor" href="#\u5176\u4ED6" aria-hidden="true">#</a> \u5176\u4ED6</h3>',6),h=a("<li><code>--dbpath</code> \u6307\u5B9A\u6570\u636E\u5E93\u5730\u5740</li><li><code>\\bin\\mongod</code> \u662F\u670D\u52A1\u7AEF</li><li><code>\\bin\\mongo</code> \u662F\u5BA2\u6237\u7AEF</li><li>\u9ED8\u8BA4\u7AEF\u53E3\u53F7\u4E3A <code>27017</code></li><li>\u542F\u52A8\u5BA2\u6237\u7AEF: \u5728 <code>\\bin</code> \u76EE\u5F55\u4E0B\u6267\u884C <code>mongo</code></li>",5),g={href:"http://www.ddooo.com/softdown/130308.htm",target:"_blank",rel:"noopener noreferrer"},y=s("native for mongoDB \u4E2D\u6587\u7834\u89E3\u7248"),f=a(`<h2 id="nodejs-\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#nodejs-\u64CD\u4F5C" aria-hidden="true">#</a> nodeJS \u64CD\u4F5C</h2><p>\u9700\u8981\u5148\u542F\u52A8 <code>MongoDB</code> \u670D\u52A1</p><h3 id="\u521B\u5EFA\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u6570\u636E\u5E93" aria-hidden="true">#</a> \u521B\u5EFA\u6570\u636E\u5E93</h3><p>\u9996\u5148\u521B\u5EFA <code>MongoClient</code> \u5BF9\u8C61, \u7136\u540E\u914D\u7F6E\u597D\u6307\u5B9A\u7684 URL \u548C\u7AEF\u53E3\u53F7</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> MongoClient <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mongodb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>MongoClient<span class="token punctuation">;</span>
<span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;mongodb://localhost:27017/runoob&quot;</span><span class="token punctuation">;</span>

MongoClient<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">useNewUrlParser</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> db</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u6570\u636E\u5E93\u5DF2\u521B\u5EFA!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  db<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u521B\u5EFA-\u5220\u9664\u96C6\u5408-\u8868" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA-\u5220\u9664\u96C6\u5408-\u8868" aria-hidden="true">#</a> \u521B\u5EFA/\u5220\u9664\u96C6\u5408(\u8868)</h3><ol><li>\u7528 <code>dbs.createCollection()</code> \u65B9\u6CD5\u521B\u5EFA\u96C6\u5408, \u662F <code>\u6570\u636E\u5E93</code> \u7684\u65B9\u6CD5</li><li>\u7528 <code>dbs.drop()</code> \u65B9\u6CD5\u5220\u9664\u96C6\u5408</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> MongoClient <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mongodb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>MongoClient<span class="token punctuation">;</span>
<span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;mongodb://localhost:27017/runoob&quot;</span><span class="token punctuation">;</span>
MongoClient<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">useNewUrlParser</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> db</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u6570\u636E\u5E93\u5DF2\u521B\u5EFA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> dbs <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">db</span><span class="token punctuation">(</span><span class="token string">&quot;runoob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u83B7\u53D6\u6570\u636E\u5E93</span>
  dbs<span class="token punctuation">.</span><span class="token function">createCollection</span><span class="token punctuation">(</span><span class="token string">&quot;site&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u521B\u5EFA\u96C6\u5408!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dbs<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">&quot;site&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> delOK</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>delOK<span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u96C6\u5408\u5DF2\u5220\u9664&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      db<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u64CD\u4F5C\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#\u64CD\u4F5C\u6570\u636E\u5E93" aria-hidden="true">#</a> \u64CD\u4F5C\u6570\u636E\u5E93</h3><p>\u521B\u5EFA\u6570\u636E\u5E93\u53CA\u8868, \u5176\u4ED6\u64CD\u4F5C\u5747\u5728\u8FDE\u63A5\u65F6(<code>dosomething\u4E2D</code>)\u8FDB\u884C, \u540E\u7EED\u6587\u6863\u53EA\u5199\u5177\u4F53\u64CD\u4F5C</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>MongoClient<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">useNewUrlParser</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> db</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  <span class="token keyword">var</span> dbs <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">db</span><span class="token punctuation">(</span><span class="token string">&quot;runoob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u83B7\u53D6\u6570\u636E\u5E93</span>
  <span class="token keyword">var</span> site <span class="token operator">=</span> dbs<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">&quot;site&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u83B7\u53D6\u8868</span>

  <span class="token comment">// dosomething...</span>

  db<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u5173\u95ED\u6570\u636E\u5E93</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u589E" tabindex="-1"><a class="header-anchor" href="#\u589E" aria-hidden="true">#</a> \u589E</h4><ol><li>\u4F7F\u7528 <code>site.insertOne()</code> \u7ED9\u8868\u6DFB\u52A0\u6570\u636E, \u662F <code>\u8868</code> \u7684\u65B9\u6CD5</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> myobj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;\u83DC\u9E1F\u6559\u7A0B&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;www.runoob&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// \u63D2\u5165\u4E00\u6761\u6570\u636E\u7528\u5BF9\u8C61</span>
<span class="token comment">// \u8C03\u7528\u96C6\u5408\u7684 insertOne \u65B9\u6CD5\u6DFB\u52A0\u4E00\u6761\u6570\u636E</span>
site<span class="token punctuation">.</span><span class="token function">insertOne</span><span class="token punctuation">(</span>myobj<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u6587\u6863\u63D2\u5165\u6210\u529F&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  db<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u4F7F\u7528 <code>site.insertMany()</code> \u7ED9\u8868\u6DFB\u52A0\u591A\u6761\u6570\u636E, \u662F <code>\u8868</code> \u7684\u65B9\u6CD5</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u63D2\u5165\u591A\u6761\u6570\u636E\u7528\u6570\u7EC4</span>
<span class="token keyword">var</span> manyObj <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;\u83DC\u9E1F\u5DE5\u5177&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;https://c.runoob.com&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;cn&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Google&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;https://www.google.com&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;en&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Facebook&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;https://www.google.com&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;en&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// \u8C03\u7528\u96C6\u5408\u7684 insertMany \u65B9\u6CD5\u6DFB\u52A0\u591A\u6761\u6570\u636E</span>
site<span class="token punctuation">.</span><span class="token function">insertMany</span><span class="token punctuation">(</span>manyObj<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>

  <span class="token comment">// res.insertedCount \u4E3A\u63D2\u5165\u6570\u636E\u6570\u91CF</span>
  db<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5220" tabindex="-1"><a class="header-anchor" href="#\u5220" aria-hidden="true">#</a> \u5220</h4><ol><li><code>deleteOne()</code> \u5220\u9664\u4E00\u6761\u6570\u636E, \u4E00\u53C2\u4E3A\u67E5\u8BE2\u6761\u4EF6, \u4E8C\u53C2\u4E3A\u56DE\u8C03\u51FD\u6570</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> whereStr <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;\u83DC\u9E1F\u6559\u7A0B&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// \u67E5\u8BE2\u6761\u4EF6</span>
site<span class="token punctuation">.</span><span class="token function">deleteOne</span><span class="token punctuation">(</span>whereStr<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><code>deleteMany()</code> \u5220\u9664\u591A\u6761\u6570\u636E, \u4E00\u53C2\u4E3A\u67E5\u8BE2\u6761\u4EF6, \u4E8C\u53C2\u4E3A\u56DE\u8C03\u51FD\u6570</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> whereStr <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;\u83DC\u9E1F\u6559\u7A0B&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// \u67E5\u8BE2\u6761\u4EF6</span>
site<span class="token punctuation">.</span><span class="token function">deleteMany</span><span class="token punctuation">(</span>whereStr<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// res.result.n \u4E3A\u5220\u9664\u6761\u6570</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u6539" tabindex="-1"><a class="header-anchor" href="#\u6539" aria-hidden="true">#</a> \u6539</h4><ol><li>\u4F7F\u7528 <code>updateOne()</code> \u65B9\u6CD5\u4FEE\u6539\u4E00\u6761\u6570\u636E, \u4E00\u53C2\u4E3A\u67E5\u8BE2\u6761\u4EF6, \u4E8C\u53C2\u4E3A\u4FEE\u6539\u5185\u5BB9, \u4E09\u53C2\u4E3A\u56DE\u8C03\u51FD\u6570</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> whereStr <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;\u83DC\u9E1F\u6559\u7A0B&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// \u67E5\u8BE2\u6761\u4EF6</span>
<span class="token keyword">var</span> updateStr <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">$set</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;https://www.runoob.com&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// \u4FEE\u6539\u5185\u5BB9, \u6CE8\u610F\u6570\u636E\u683C\u5F0F</span>

site<span class="token punctuation">.</span><span class="token function">updateOne</span><span class="token punctuation">(</span>whereStr<span class="token punctuation">,</span> updateStr<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u4F7F\u7528 <code>updateMany()</code> \u65B9\u6CD5\u4FEE\u6539\u591A\u6761\u6570\u636E, \u4E00\u53C2\u4E3A\u67E5\u8BE2\u6761\u4EF6, \u4E8C\u53C2\u4E3A\u4FEE\u6539\u5185\u5BB9, \u4E09\u53C2\u4E3A\u56DE\u8C03\u51FD\u6570</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> whereStr <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;en&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// \u67E5\u8BE2\u6761\u4EF6</span>
<span class="token keyword">var</span> updateStr <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">$set</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;https://www.runoob.com&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// \u4FEE\u6539\u5185\u5BB9, \u6CE8\u610F\u6570\u636E\u683C\u5F0F</span>

site<span class="token punctuation">.</span><span class="token function">updateMany</span><span class="token punctuation">(</span>whereStr<span class="token punctuation">,</span> updateStr<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u67E5" tabindex="-1"><a class="header-anchor" href="#\u67E5" aria-hidden="true">#</a> \u67E5</h4><p><code>site.find()</code>, \u6309\u67E5\u8BE2\u6761\u4EF6\u8FD4\u56DE\u5339\u914D\u7684\u6570\u636E,\u6CA1\u6709\u67E5\u8BE2\u6761\u4EF6\u65F6\u8FD4\u56DE\u6240\u6709\u6570\u636E, \u662F <code>\u8868</code> \u7684\u65B9\u6CD5, \u8FD4\u56DE <code>\u6570\u636E\u5BF9\u8C61</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> whereStr <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;\u83DC\u9E1F\u6559\u7A0B&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> data <span class="token operator">=</span> site<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>whereStr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u4EE5\u5BF9\u8C61\u5F62\u5F0F\u8BBE\u7F6E\u67E5\u8BE2\u6761\u4EF6, \u8FD4\u56DE\u503C\u4E3A\u6570\u636E\u5BF9\u8C61, \u9700\u8981\u7528toArray\u65B9\u6CD5\u8F6C\u4E3A\u6570\u7EC4</span>
<span class="token keyword">var</span> allData <span class="token operator">=</span> site<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u4E0D\u586B\u6761\u4EF6\u65F6\u8FD4\u56DE\u6240\u6709\u6570\u636E</span>

data<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// find\u65B9\u6CD5\u7684\u8FD4\u56DE\u503C\u4E3A\u5BF9\u8C61, \u8BE5\u5BF9\u8C61\u6709\u4E00\u4E2AtoArray\u65B9\u6CD5\u628A\u6570\u636E\u8F6C\u6362\u4E3A\u6570\u7EC4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u6392\u5E8F" tabindex="-1"><a class="header-anchor" href="#\u6392\u5E8F" aria-hidden="true">#</a> \u6392\u5E8F</h4><p><code>site.find().sort()</code>, \u63A5\u6536\u4E00\u4E2A\u53C2\u6570,\u89C4\u5B9A\u662F\u5347\u5E8F(1)\u8FD8\u662F\u964D\u5E8F(-1), \u662F <code>\u6570\u636E\u5BF9\u8C61</code> \u4E0A\u7684\u65B9\u6CD5</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> mysort <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// \u6392\u5E8F\u53C2\u6570, \u4EE5\u5BF9\u8C61\u5F62\u5F0F\u4F20\u9012, \u5728\u6B64\u4E3A\u4EE5type\u4E3A\u6392\u5E8F\u53C2\u6570\u5347\u5E8F\u6392\u5217</span>

site
  <span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>mysort<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u67E5\u8BE2\u5206\u9875" tabindex="-1"><a class="header-anchor" href="#\u67E5\u8BE2\u5206\u9875" aria-hidden="true">#</a> \u67E5\u8BE2\u5206\u9875</h4><ol><li><code>site.find().limit()</code>, \u8FD4\u56DE\u6307\u5B9A\u6761\u6570\u7684\u6570\u636E, \u63A5\u6536\u4E00\u4E2A\u53C2\u6570,\u6307\u5B9A\u8FD4\u56DE\u7684\u6761\u6570, \u662F <code>\u6570\u636E\u5BF9\u8C61</code> \u4E0A\u7684\u65B9\u6CD5</li><li><code>site.find().skip()</code>, \u8DF3\u8FC7\u6307\u5B9A\u6761\u6570\u7684\u6570\u636E, \u63A5\u6536\u4E00\u4E2A\u53C2\u6570,\u6307\u5B9A\u8981\u8DF3\u8FC7\u7684\u6761\u6570</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>site
  <span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u8FD4\u56DE\u6700\u4E0A\u9762\u7684\u4E24\u6761\u6570\u636E</span>

site
  <span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u8DF3\u8FC7\u4E09\u6761\u6570\u636E, \u8FD4\u56DE\u4E4B\u540E\u7684\u4E24\u6761\u6570\u636E</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,35);function w(q,j){const t=l("ExternalLinkIcon");return e(),c("div",null,[u,r,n("ol",null,[n("li",null,[k,n("a",d,[v,p(t)])]),m]),b,n("ol",null,[h,n("li",null,[n("a",g,[y,p(t)])])]),f])}const M=o(i,[["render",w],["__file","mongodb.html.vue"]]);export{M as default};
