import{_ as p}from"./_plugin-vue_export-helper.cdc0426e.js";import{o,c,a as n,e,g as s,f as t,h as l}from"./app.382dc3cd.js";const i={},u=n("p",null,"\u9879\u76EE\u4E2D\u6709\u4E9B\u573A\u666F\u4E0B\u9700\u8981\u5C55\u793A\u6587\u4EF6\u7684\u6E90\u7801\uFF0C\u6BD4\u5982 Element UI \u548C\u5176\u4ED6\u4E00\u4E9B UI \u6846\u67B6\u4E2D\u505A\u7684\u201C\u663E\u793A\u4EE3\u7801\u201D\u529F\u80FD\u3002",-1),r=n("p",null,"\u8FD9\u91CC\u4ECB\u7ECD\u4E24\u79CD\u83B7\u53D6\u7EC4\u4EF6\u6E90\u7801\u7684\u65B9\u5F0F\u3002",-1),d={href:"https://gitee.com/zhangkb/get-vue-source-code",target:"_blank",rel:"noopener noreferrer"},k=s("vue-cli \u9879\u76EE\u793A\u4F8B"),v=s("\u3002"),m=t(`<h2 id="\u7F51\u7EDC\u8BF7\u6C42\u83B7\u53D6" tabindex="-1"><a class="header-anchor" href="#\u7F51\u7EDC\u8BF7\u6C42\u83B7\u53D6" aria-hidden="true">#</a> \u7F51\u7EDC\u8BF7\u6C42\u83B7\u53D6</h2><h3 id="\u9002\u7528\u9879\u76EE" tabindex="-1"><a class="header-anchor" href="#\u9002\u7528\u9879\u76EE" aria-hidden="true">#</a> \u9002\u7528\u9879\u76EE</h3><p>\u6B64\u65B9\u6CD5\u9002\u7528\u4E8E\u53EF\u4EE5\u7528 http \u8BF7\u6C42\u5F53\u524D\u9879\u76EE\u8D44\u6E90\u7684\u9759\u6001\u9879\u76EE\u3002</p><h3 id="\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#\u539F\u7406" aria-hidden="true">#</a> \u539F\u7406</h3><p>\u83B7\u53D6\u7EC4\u4EF6\u5728\u670D\u52A1\u5668\u4E0A\u7684\u8DEF\u5F84\u7136\u540E\u53D1\u9001\u7F51\u7EDC\u8BF7\u6C42\u83B7\u53D6\u3002</p><p>vue \u7EC4\u4EF6\u4E2D\u6709\u4E00\u4E2A <code>$options.__file</code> \u5C5E\u6027\u4EE3\u8868\u8BE5\u7EC4\u4EF6\u5B9E\u4F8B\u7684\u6E90\u6587\u4EF6\u4F4D\u7F6E\u3002</p><h3 id="\u6838\u5FC3\u4EE3\u7801" tabindex="-1"><a class="header-anchor" href="#\u6838\u5FC3\u4EE3\u7801" aria-hidden="true">#</a> \u6838\u5FC3\u4EE3\u7801</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">initExampleCodeHtml</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>__file<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>__file<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      res<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>codeHtml <span class="token operator">=</span> text<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="webpack-loader-\u7ED1\u5B9A" tabindex="-1"><a class="header-anchor" href="#webpack-loader-\u7ED1\u5B9A" aria-hidden="true">#</a> webpack-loader \u7ED1\u5B9A</h2><p>vue-cli \u6784\u5EFA\u7684\u9879\u76EE\u4F1A\u7ECF\u8FC7 webpack \u6253\u5305\uFF0C\u8FD9\u65F6\u7528\u7F51\u7EDC\u8BF7\u6C42\u5C31\u65E0\u6CD5\u83B7\u53D6\u5230\u6E90\u6587\u4EF6\u4E86\uFF0C\u8FD9\u79CD\u9879\u76EE\u4E0B\u53EF\u4EE5\u5229\u7528 loader \u6765\u83B7\u53D6\u7EC4\u4EF6\u7684\u6E90\u7801\u3002</p><h3 id="\u9002\u7528\u9879\u76EE-1" tabindex="-1"><a class="header-anchor" href="#\u9002\u7528\u9879\u76EE-1" aria-hidden="true">#</a> \u9002\u7528\u9879\u76EE</h3><p>vue-cli \u9879\u76EE\u3001\u7528 webpack \u6253\u5305\u7684 vue \u9879\u76EE\u3002</p><h3 id="\u539F\u7406-1" tabindex="-1"><a class="header-anchor" href="#\u539F\u7406-1" aria-hidden="true">#</a> \u539F\u7406</h3>`,13),h={href:"https://vue-loader.vuejs.org/zh/guide/custom-blocks.html",target:"_blank",rel:"noopener noreferrer"},b=s("vue-loader"),_=s("\u5B98\u65B9\u6587\u6863\u4E2D\u63D0\u4F9B\u4E86\u4E00\u79CD\u914D\u7F6E loader \u5728"),g=n("strong",null,"\u8FD0\u884C\u65F6",-1),f=s("\u8BBF\u95EE\u88AB\u5BFC\u5165\u7EC4\u4EF6\u81EA\u5B9A\u4E49\u4EE3\u7801\u5757\u7684\u80FD\u529B\u3002"),y=t(`<ul><li>vue.config.js</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resourceQuery</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">blockType=foo</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;loader-to-use&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>loader-to-use.js</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source<span class="token punctuation">,</span> map</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>
    <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">export default function (Component) {
      Component.options.__docs = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
    }</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
    map
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EA\u8981\u5728 vue \u7EC4\u4EF6\u4E2D\u914D\u7F6E <code>&lt;docs&gt;&lt;/docs&gt;</code> \u6807\u7B7E\u5C31\u4F1A\u88AB loader \u89E3\u6790\uFF0C\u5E76\u5728\u8FD9\u4E2A vue \u5B9E\u4F8B\u4E0A\u7ED1\u5B9A\u6570\u636E\uFF08\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D\u662F docs \u6807\u7B7E\u4E2D\u7684\u5185\u5BB9\uFF09\u3002</p><p>\u5229\u7528\u8FD9\u4E2A\u80FD\u529B\u6211\u4EEC\u53EA\u9700\u8981\u5728 loader \u4E2D\u8BFB\u53D6\u7EC4\u4EF6\u7684\u6E90\u6587\u4EF6\u518D\u7ED1\u5B9A\u5230\u8FD9\u4E2A vue \u5B9E\u4F8B\u4E0A\u5C31\u53EF\u4EE5\u83B7\u53D6\u5B83\u7684\u6E90\u7801\u4E86\u3002</p><h3 id="\u6838\u5FC3\u4EE3\u7801-1" tabindex="-1"><a class="header-anchor" href="#\u6838\u5FC3\u4EE3\u7801-1" aria-hidden="true">#</a> \u6838\u5FC3\u4EE3\u7801</h3><ul><li>loader-to-use.js</li></ul><p>loader \u4E2D\u53EF\u4EE5\u7528 this.resourcePath \u83B7\u53D6\u5230\u88AB\u5904\u7406\u6587\u4EF6\u7684\u4F4D\u7F6E\u3002</p><p>\u7528 fs \u8BFB\u53D6\u6587\u4EF6\u5185\u5BB9\u4E4B\u540E\u7ED1\u5B9A\u5230\u5B9E\u4F8B\u7684 __sourceCode \u5C5E\u6027\u4E0A\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source<span class="token punctuation">,</span> map</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> resourcePath <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> file <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>resourcePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>
    <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">export default function (Component) {
            Component.options.__sourceCode = \\\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\\\`
        }</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
    map
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>App.vue</li></ul><p>\u5BFC\u5165 vue \u7EC4\u4EF6\u540E\u901A\u8FC7\u7EC4\u4EF6\u5B9E\u4F8B\u7684 <code>__sourceCode</code> \u5C5E\u6027\u8BFB\u53D6\u7EC4\u4EF6\u6E90\u7801\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">&quot;./components/HelloWorld.vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;App&quot;</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">sourceCode</span><span class="token operator">:</span> HelloWorld<span class="token punctuation">.</span>__sourceCode<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u53C2\u8003" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003" aria-hidden="true">#</a> \u53C2\u8003</h2>`,15),x={href:"https://www.jianshu.com/p/c270e13918f3",target:"_blank",rel:"noopener noreferrer"},w=s("\u81EA\u5B9A\u4E49 loader \u8BFB\u53D6 *.vue \u6587\u4EF6\u6E90\u7801"),j={href:"https://vue-loader.vuejs.org/zh/guide/custom-blocks.html",target:"_blank",rel:"noopener noreferrer"},C=s("vue-loader");function q(E,H){const a=l("ExternalLinkIcon");return o(),c("div",null,[u,r,n("p",null,[n("a",d,[k,e(a)]),v]),m,n("p",null,[n("a",h,[b,e(a)]),_,g,f]),y,n("p",null,[n("a",x,[w,e(a)])]),n("p",null,[n("a",j,[C,e(a)])])])}const I=p(i,[["render",q],["__file","\u5728\u9879\u76EE\u4E2D\u83B7\u53D6vue\u6587\u4EF6\u6E90\u7801.html.vue"]]);export{I as default};
