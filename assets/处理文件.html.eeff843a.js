import{_ as a}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as t,c as p,a as n,e as o,f as e,g as c,h as u}from"./app.17eb5f9b.js";const i={},l=e(`<p><code>gulp</code> \u5904\u7406\u6587\u4EF6\u7684\u8FC7\u7A0B\u662F\uFF1A<code>src(glob)</code> \u83B7\u53D6\u6587\u4EF6\u6D41\uFF0C<code>pipe(plugin)</code> \u4FEE\u6539\u6587\u4EF6\uFF0C<code>pipe(dest(output))</code> \u8F93\u51FA\u6587\u4EF6\u3002</p><p><code>gulp</code> \u66B4\u9732\u4E86 <code>src()</code> \u548C <code>dest()</code> \u65B9\u6CD5\u7528\u4E8E\u5904\u7406\u8BA1\u7B97\u673A\u4E0A\u5B58\u653E\u7684\u6587\u4EF6\u3002</p><p><code>src()</code> \u63A5\u53D7 <code>glob</code>\uFF08\u666E\u901A\u5B57\u7B26\u6216\u901A\u914D\u7B26\u7EC4\u6210\u7684\u5B57\u7B26\u4E32\uFF0C\u7528\u4E8E\u5339\u914D\u6587\u4EF6\u8DEF\u5F84\uFF09\u7EC4\u5B57\u7B26\u4E32\u6216\u7531\u591A\u4E2A <code>glob</code> \u5B57\u7B26\u4E32\u7EC4\u6210\u7684\u6570\u7EC4\u4F5C\u4E3A\u53C2\u6570\uFF0C\u5E76\u4ECE\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u8BFB\u53D6\u6587\u4EF6\u7136\u540E\u751F\u6210\u4E00\u4E2A Node \u6D41\uFF08stream\uFF09\u3002</p><p>\u6D41\uFF08stream\uFF09\u6240\u63D0\u4F9B\u7684\u4E3B\u8981\u7684 API \u662F <code>.pipe()</code> \u65B9\u6CD5\uFF0C\u7528\u4E8E\u8FDE\u63A5\u8F6C\u6362\u6D41\uFF08Transform streams\uFF09\u6216\u53EF\u5199\u6D41\uFF08Writable streams\uFF09\u3002</p><p><code>dest()</code> \u63A5\u53D7\u4E00\u4E2A\u8F93\u51FA\u76EE\u5F55\u4F5C\u4E3A\u53C2\u6570\uFF0C\u5E76\u4E14\u5B83\u8FD8\u4F1A\u4EA7\u751F\u4E00\u4E2A Node \u6D41\uFF08stream\uFF09\uFF0C\u901A\u5E38\u4F5C\u4E3A\u7EC8\u6B62\u6D41\uFF08terminator stream\uFF09\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> src<span class="token punctuation">,</span> dest <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> babel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-babel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">default</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;src/*.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">babel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;output/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5411\u6D41\u4E2D\u6DFB\u52A0\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5411\u6D41\u4E2D\u6DFB\u52A0\u6587\u4EF6" aria-hidden="true">#</a> \u5411\u6D41\u4E2D\u6DFB\u52A0\u6587\u4EF6</h2><p><code>src()</code> \u4E5F\u53EF\u4EE5\u653E\u5728\u7BA1\u9053\uFF08pipeline\uFF09\u7684\u4E2D\u95F4\uFF0C\u65B0\u52A0\u5165\u7684\u6587\u4EF6\u53EA\u53EF\u5728\u540E\u7EED\u7684\u8F6C\u6362\u4E2D\u4FEE\u6539\u3002</p><p>\u5982\u679C <code>glob</code> \u5339\u914D\u7684\u6587\u4EF6\u4E0E\u4E4B\u524D\u7684\u6709\u91CD\u590D\uFF0C\u4ECD\u7136\u4F1A\u518D\u6B21\u6DFB\u52A0\u6587\u4EF6\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> src<span class="token punctuation">,</span> dest <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> babel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-babel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> uglify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-uglify&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">default</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;src/*.js&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">babel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;vendor/*.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;output/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5206\u9636\u6BB5\u8F93\u51FA" tabindex="-1"><a class="header-anchor" href="#\u5206\u9636\u6BB5\u8F93\u51FA" aria-hidden="true">#</a> \u5206\u9636\u6BB5\u8F93\u51FA</h2><p>\u53EF\u4EE5\u4F7F\u7528\u591A\u4E2A <code>dest()</code> \u8FDB\u884C\u591A\u6B21\u8F93\u51FA\u3002</p><p>\u6B64\u529F\u80FD\u53EF\u7528\u4E8E\u5728\u540C\u4E00\u4E2A\u7BA1\u9053\uFF08pipeline\uFF09\u4E2D\u521B\u5EFA\u672A\u538B\u7F29\uFF08unminified\uFF09\u548C\u5DF2\u538B\u7F29\uFF08minified\uFF09\u7684\u6587\u4EF6\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> src<span class="token punctuation">,</span> dest <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> babel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-babel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> uglify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-uglify&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> rename <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-rename&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">default</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;src/*.js&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">babel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;vendor/*.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;output/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">extname</span><span class="token operator">:</span> <span class="token string">&quot;.min.js&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;output/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u63D2\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u63D2\u4EF6" aria-hidden="true">#</a> \u63D2\u4EF6</h2><p>Gulp \u63D2\u4EF6\u5B9E\u8D28\u4E0A\u662F Node \u8F6C\u6362\u6D41\uFF08Transform Streams\uFF09\uFF0C\u901A\u5E38\u662F\u653E\u5728 <code>.pipe()</code> \u4E2D\u3002</p><p>\u53EF\u4EE5\u7528\u63D2\u4EF6\u66F4\u6539\u7ECF\u8FC7\u6D41\uFF08stream\uFF09\u7684\u6BCF\u4E2A\u6587\u4EF6\u7684\u6587\u4EF6\u540D\u3001\u5143\u6570\u636E\u6216\u6587\u4EF6\u5185\u5BB9\u3002</p><p>\u6BCF\u4E2A\u63D2\u4EF6\u5E94\u5F53\u53EA\u5B8C\u6210\u5FC5\u8981\u7684\u5DE5\u4F5C\u3002</p><h3 id="\u6761\u4EF6\u63D2\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u6761\u4EF6\u63D2\u4EF6" aria-hidden="true">#</a> \u6761\u4EF6\u63D2\u4EF6</h3><p>\u63D2\u4EF6\u7684\u64CD\u4F5C\u4E0D\u5E94\u8BE5\u9488\u5BF9\u7279\u5B9A\u6587\u4EF6\u7C7B\u578B\uFF0C\u53EF\u4EE5\u4F7F\u7528\u50CF gulp-if \u4E4B\u7C7B\u7684\u63D2\u4EF6\u6765\u5224\u65AD\u662F\u5426\u4F7F\u7528\u63D2\u4EF6\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> src<span class="token punctuation">,</span> dest <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> gulpif <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-if&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> uglify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-uglify&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">isJavaScript</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5224\u65AD\u6587\u4EF6\u7684\u6269\u5C55\u540D\u662F\u5426\u662F &#39;.js&#39;</span>
  <span class="token keyword">return</span> file<span class="token punctuation">.</span>extname <span class="token operator">===</span> <span class="token string">&quot;.js&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">default</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5728\u540C\u4E00\u4E2A\u7BA1\u9053\uFF08pipeline\uFF09\u4E0A\u5904\u7406 JavaScript \u548C CSS \u6587\u4EF6</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;src/*.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;src/*.css&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token comment">// \u53EA\u5BF9 JavaScript \u6587\u4EF6\u5E94\u7528 gulp-uglify \u63D2\u4EF6</span>
      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">gulpif</span><span class="token punctuation">(</span>isJavaScript<span class="token punctuation">,</span> <span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;output/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u6A21\u5F0F" aria-hidden="true">#</a> \u6A21\u5F0F</h2><p>src() \u53EF\u4EE5\u5DE5\u4F5C\u5728\u4E09\u79CD\u6A21\u5F0F\u4E0B\uFF1A<strong>\u7F13\u51B2\uFF08buffering\uFF09</strong>\u3001**\u6D41\u52A8\uFF08streaming\uFF09<strong>\u548C</strong>\u7A7A\uFF08empty\uFF09**\u6A21\u5F0F\u3002</p><ul><li><p>\u7F13\u51B2\uFF08Buffering\uFF09\u6A21\u5F0F\u662F\u9ED8\u8BA4\u6A21\u5F0F\uFF0C\u5C06\u6587\u4EF6\u5185\u5BB9\u52A0\u8F7D\u5230\u5185\u5B58\u4E2D\u3002</p><p>\u63D2\u4EF6\u901A\u5E38\u8FD0\u884C\u5728\u7F13\u51B2\uFF08buffering\uFF09\u6A21\u5F0F\u4E0B\uFF0C\u5E76\u4E14\u8BB8\u591A\u63D2\u4EF6\u4E0D\u652F\u6301\u6D41\u52A8\uFF08streaming\uFF09\u6A21\u5F0F\u3002</p></li><li><p>\u6D41\u52A8\uFF08Streaming\uFF09\u6A21\u5F0F\u7684\u5B58\u5728\u4E3B\u8981\u7528\u4E8E<strong>\u64CD\u4F5C\u65E0\u6CD5\u653E\u5165\u5185\u5B58\u4E2D\u7684\u5927\u6587\u4EF6</strong>\uFF0C\u4F8B\u5982\u5DE8\u5E45\u56FE\u50CF\u6216\u7535\u5F71\u3002</p><p>\u6587\u4EF6\u5185\u5BB9\u4ECE\u6587\u4EF6\u7CFB\u7EDF\u4E2D<strong>\u4EE5\u5C0F\u5757\u7684\u65B9\u5F0F\u6D41\u5F0F\u4F20\u8F93\uFF0C\u800C\u4E0D\u662F\u4E00\u6B21\u6027\u5168\u90E8\u52A0\u8F7D</strong>\u3002</p><p>\u5982\u679C\u9700\u8981\u6D41\u52A8\uFF08streaming\uFF09\u6A21\u5F0F\uFF0C\u8BF7\u67E5\u627E\u652F\u6301\u6B64\u6A21\u5F0F\u7684\u63D2\u4EF6\u6216\u81EA\u5DF1\u7F16\u5199\u3002</p></li><li><p>\u7A7A\uFF08Empty\uFF09\u6A21\u5F0F\u4E0D\u5305\u542B\u4EFB\u4F55\u5185\u5BB9\uFF0C\u4EC5\u5728\u5904\u7406\u6587\u4EF6\u5143\u6570\u636E\u65F6\u6709\u7528\u3002</p></li></ul><h2 id="\u53C2\u8003" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003" aria-hidden="true">#</a> \u53C2\u8003</h2>`,25),r={href:"https://www.gulpjs.com.cn/docs/getting-started/working-with-files/",target:"_blank",rel:"noopener noreferrer"},k=c("\u5904\u7406\u6587\u4EF6");function d(v,f){const s=u("ExternalLinkIcon");return t(),p("div",null,[l,n("p",null,[n("a",r,[k,o(s)])])])}const b=a(i,[["render",d],["__file","\u5904\u7406\u6587\u4EF6.html.vue"]]);export{b as default};
