import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as s,c as a,f as e}from"./app.17eb5f9b.js";const t={},i=e(`<h2 id="\u5173\u4E8E\u8DE8\u57DF" tabindex="-1"><a class="header-anchor" href="#\u5173\u4E8E\u8DE8\u57DF" aria-hidden="true">#</a> \u5173\u4E8E\u8DE8\u57DF</h2><p>\u8DE8\u57DF\u95EE\u9898\u53EA\u4F1A\u51FA\u73B0\u5728\u6D4F\u89C8\u5668\u73AF\u5883\u4E2D\uFF0C\u56E0\u4E3A\u6D4F\u89C8\u5668\u7528\u540C\u6E90\u7B56\u7565\u6765\u4FDD\u8BC1\u5BA2\u6237\u7AEF\u7684\u5B89\u5168\u3002</p><p><strong>\u5355\u7EAF\u9760\u524D\u7AEF\u662F\u65E0\u6CD5\u5B9E\u73B0\u8DE8\u57DF\u7684</strong></p><p>\u8DE8\u57DF\u95EE\u9898\u7684\u5173\u952E\u5728\u4E8E\uFF0C\u5728\u54EA\u4E9B\u57DF\u80FD\u8DE8\u57DF\u8BBF\u95EE\u4F60\u670D\u52A1\u5668\u8FD9\u4EF6\u4E8B\u4E0A\uFF0C\u53EA\u6709\u670D\u52A1\u5668\u7AEF\u624D\u662F\u6743\u5A01\u7684\u3002\u6240\u4EE5\u4EFB\u4F55\u8DE8\u57DF\u7684\u89E3\u51B3\u65B9\u6848\uFF0C\u90FD\u5FC5\u987B\u8981\u5411\u670D\u52A1\u5668\u62FF\u6388\u6743\u5217\u8868\u3002</p><h3 id="\u6280\u672F\u8DE8\u57DF" tabindex="-1"><a class="header-anchor" href="#\u6280\u672F\u8DE8\u57DF" aria-hidden="true">#</a> \u6280\u672F\u8DE8\u57DF</h3><ol><li>\u670D\u52A1\u5668\u7531\u81EA\u5DF1\u63A7\u5236\uFF1ACORS</li><li>\u670D\u52A1\u5668\u4E0D\u7531\u81EA\u5DF1\u63A7\u5236\uFF1A\u4EE3\u7406\u670D\u52A1</li></ol><h3 id="\u6D4F\u89C8\u5668\u8DE8\u57DF" tabindex="-1"><a class="header-anchor" href="#\u6D4F\u89C8\u5668\u8DE8\u57DF" aria-hidden="true">#</a> \u6D4F\u89C8\u5668\u8DE8\u57DF</h3><p>\u89E3\u51B3\u4E0D\u4E86\u95EE\u9898\u5C31\u89E3\u51B3\u63D0\u51FA\u95EE\u9898\u7684\u4EBA\u3002\u3002\u3002</p><ol><li>\u5173\u95ED\u6D4F\u89C8\u5668\u7684\u5B89\u5168\u68C0\u6D4B\uFF0Cchrome\uFF1A-disable-web-security</li><li>\u6D4F\u89C8\u5668\u63D2\u4EF6</li></ol><h2 id="\u8DE8\u57DF\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u8DE8\u57DF\u65B9\u6CD5" aria-hidden="true">#</a> \u8DE8\u57DF\u65B9\u6CD5</h2><h3 id="jsonp" tabindex="-1"><a class="header-anchor" href="#jsonp" aria-hidden="true">#</a> jsonp</h3><p>\u524D\u540E\u7AEF\u7EA6\u5B9A\u7EDF\u4E00\u7684\u56DE\u8C03\u51FD\u6570\u540D\u79F0\uFF0C\u524D\u7AEF\u5728\u9875\u9762\u4E2D\u5B9A\u4E49\u8BE5\u51FD\u6570\uFF0C\u51FD\u6570\u7684\u53C2\u6570\u5C31\u662F\u63A5\u53E3\u8FD4\u56DE\u6570\u636E\uFF0C\u540E\u7AEF\u5219\u9700\u8981\u5728\u63A5\u6536\u8BE5\u8BF7\u6C42\u540E\u5C06\u6570\u636E\u4F20\u9012\u7ED9\u8BE5\u51FD\u6570\uFF0C\u5E76\u5C06\u6574\u4E2A\u51FD\u6570\u8FD4\u56DE</p><h4 id="\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#\u539F\u7406" aria-hidden="true">#</a> \u539F\u7406</h4><ol><li><code>&lt;script&gt;</code> \u6807\u7B7E\u7684 <code>src</code> \u5C5E\u6027\u4E0D\u53D7\u540C\u6E90\u7B56\u7565\u9650\u5236\uFF0C\u53EF\u4EE5\u8BBF\u95EE\u4E0D\u540C\u57DF\u7684\u8D44\u6E90\uFF0C\u628A\u8FD9\u4E2A\u6807\u7B7E\u63D2\u5165\u9875\u9762\u540E\uFF0C\u6807\u7B7E\u5185\u7684 <code>js</code> \u4EE3\u7801\u4F1A\u88AB\u6267\u884C</li><li>\u5728\u9700\u8981\u8DE8\u57DF\u8BF7\u6C42\u7684\u9875\u9762\u5B9A\u4E49\u597D\u56DE\u8C03\u51FD\u6570\uFF0C\u53C2\u6570\u4F5C\u4E3A\u63A5\u53E3\u8FD4\u56DE\u503C\u53BB\u8FDB\u884C\u5904\u7406</li><li>\u524D\u7AEF\u52A8\u6001\u521B\u5EFA <code>&lt;script&gt;</code> \u6807\u7B7E\u8BF7\u6C42\u63A5\u53E3</li></ol><h4 id="\u7F3A\u9677" tabindex="-1"><a class="header-anchor" href="#\u7F3A\u9677" aria-hidden="true">#</a> \u7F3A\u9677</h4><p>\u53EA\u80FD\u53D1\u9001 get \u8BF7\u6C42</p><h3 id="cors" tabindex="-1"><a class="header-anchor" href="#cors" aria-hidden="true">#</a> CORS</h3><p>\u670D\u52A1\u7AEF\u5141\u8BB8\u8DE8\u57DF</p><h4 id="nginx" tabindex="-1"><a class="header-anchor" href="#nginx" aria-hidden="true">#</a> nginx</h4><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>location / {
     if ($request_method = &#39;OPTIONS&#39;) {
        add_header &#39;Access-Control-Allow-Origin&#39; &#39;*&#39;;
        add_header &#39;Access-Control-Allow-Methods&#39; &#39;GET, POST, OPTIONS&#39;;
        add_header &#39;Access-Control-Allow-Credentials&#39; true;
        #
        # Custom headers and headers various browsers *should* be OK with but aren&#39;t
        #
        add_header &#39;Access-Control-Allow-Headers&#39; &#39;DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range&#39;;
        #
        # Tell client that this pre-flight info is valid for 20 days
        #
        add_header &#39;Access-Control-Max-Age&#39; 1728000;
        add_header &#39;Content-Type&#39; &#39;text/plain; charset=utf-8&#39;;
        add_header &#39;Content-Length&#39; 0;
        return 204;
     }
     if ($request_method = &#39;POST&#39;) {
        add_header &#39;Access-Control-Allow-Origin&#39; &#39;*&#39;;
        add_header &#39;Access-Control-Allow-Methods&#39; &#39;GET, POST, OPTIONS&#39;;
        add_header &#39;Access-Control-Allow-Headers&#39; &#39;DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range&#39;;
        add_header &#39;Access-Control-Expose-Headers&#39; &#39;Content-Length,Content-Range&#39;;
     }
     if ($request_method = &#39;GET&#39;) {
        add_header &#39;Access-Control-Allow-Origin&#39; &#39;*&#39;;
        add_header &#39;Access-Control-Allow-Methods&#39; &#39;GET, POST, OPTIONS&#39;;
        add_header &#39;Access-Control-Allow-Headers&#39; &#39;DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range&#39;;
        add_header &#39;Access-Control-Expose-Headers&#39; &#39;Content-Length,Content-Range&#39;;
     }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="expressjs" tabindex="-1"><a class="header-anchor" href="#expressjs" aria-hidden="true">#</a> ExpressJS</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u8BBE\u7F6E\u5141\u8BB8\u8DE8\u57DF\u7684\u57DF\u540D,*\u4EE3\u8868\u5141\u8BB8\u4EFB\u610F\u57DF\u540D\u8DE8\u57DF</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u5141\u8BB8\u7684header\u7C7B\u578B</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Headers&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;content-type&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u8DE8\u57DF\u5141\u8BB8\u7684\u8BF7\u6C42\u65B9\u5F0F</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Methods&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;DELETE,PUT,POST,GET,OPTIONS&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>method<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;options&quot;</span><span class="token punctuation">)</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u8BA9options \u5C1D\u8BD5\u8BF7\u6C42\u5FEB\u901F\u7ED3\u675F</span>
  <span class="token keyword">else</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u670D\u52A1\u5668\u4EE3\u7406" tabindex="-1"><a class="header-anchor" href="#\u670D\u52A1\u5668\u4EE3\u7406" aria-hidden="true">#</a> \u670D\u52A1\u5668\u4EE3\u7406</h3><p>\u901A\u8FC7\u670D\u52A1\u7AEF\u4EE3\u7406\u5230\u76F8\u540C\u7684\u57DF\u540D\u4E0B</p><h2 id="\u8DE8\u57DF\u4E0B\u8F7D\u8D44\u6E90" tabindex="-1"><a class="header-anchor" href="#\u8DE8\u57DF\u4E0B\u8F7D\u8D44\u6E90" aria-hidden="true">#</a> \u8DE8\u57DF\u4E0B\u8F7D\u8D44\u6E90</h2><p>\u6D4F\u89C8\u5668\u4E2D\u7ECF\u5E38\u6709\u4E0B\u8F7D\u8D44\u6E90\uFF08\u56FE\u7247\u3001\u6587\u4EF6\uFF09\u7684\u9700\u6C42\uFF0C\u5BF9\u4E8E\u540C\u6E90\u7684\u8D44\u6E90\u5F88\u597D\u89E3\u51B3\uFF0C\u4F46\u662F\u5982\u679C\u8D44\u6E90\u5728\u5176\u4ED6\u670D\u52A1\u5668\u3001\u57DF\u540D\u4E0B\uFF0C\u5C31\u4F1A\u6709\u8DE8\u57DF\u95EE\u9898\uFF0C\u5BFC\u81F4\u8D44\u6E90\u65E0\u6CD5\u4E0B\u8F7D\u3002</p><ul><li>\u540E\u7AEF\u4E0B\u8F7D\u8D44\u6E90</li></ul><p>\u53EF\u4EE5\u5728\u540E\u53F0\u5C06\u9700\u8981\u4E0B\u8F7D\u7684\u8D44\u6E90\u8BF7\u6C42\u56DE\u6765\uFF08\u540E\u53F0\u8BF7\u6C42\u6CA1\u6709\u8DE8\u57DF\u95EE\u9898\uFF09\uFF0C\u5904\u7406\u540E\u8FD4\u56DE\u524D\u7AEF\u5B9E\u73B0\u8DE8\u57DF\u8D44\u6E90\u4E0B\u8F7D\u3002</p>`,28),o=[i];function c(l,d){return s(),a("div",null,o)}const u=n(t,[["render",c],["__file","\u8DE8\u57DF\u89E3\u51B3\u65B9\u6848.html.vue"]]);export{u as default};
