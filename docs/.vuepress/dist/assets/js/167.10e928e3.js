(window.webpackJsonp=window.webpackJsonp||[]).push([[167],{821:function(t,a,s){"use strict";s.r(a);var e=s(12),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),s("h3",{attrs:{id:"初始化阶段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初始化阶段"}},[t._v("#")]),t._v(" 初始化阶段")]),t._v(" "),s("blockquote",[s("p",[t._v("触发的生命周期钩子: "),s("code",[t._v("beforeCreate")]),t._v("，"),s("code",[t._v("created")])])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("initLifecycle")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化生命周期")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("initEvents")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化事件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("initRender")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化渲染")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"beforeCreate"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 调用生命周期钩子函数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("initInjections")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//初始化injections")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("initState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化props,methods,data,computed,watch")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("initProvide")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化 provide")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"created"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 调用生命周期钩子函数")]),t._v("\n")])])]),s("h3",{attrs:{id:"模板编译阶段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模板编译阶段"}},[t._v("#")]),t._v(" 模板编译阶段")]),t._v(" "),s("p",[t._v("只在 "),s("code",[t._v("完整版")]),t._v(" 有该阶段，会根据传入的 "),s("code",[t._v("el")]),t._v(" 或 "),s("code",[t._v("template")]),t._v(" 来生成模板")]),t._v(" "),s("p",[t._v("在使用 "),s("code",[t._v("vue-cli")]),t._v(" 或 "),s("code",[t._v("webpack")]),t._v(" 运行 "),s("code",[t._v("vue")]),t._v(" 项目时，会在代码编译阶段通过 "),s("code",[t._v("vue-loader")]),t._v(" 处理 "),s("code",[t._v(".vue")]),t._v(" 文件")]),t._v(" "),s("h3",{attrs:{id:"挂载阶段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#挂载阶段"}},[t._v("#")]),t._v(" 挂载阶段")]),t._v(" "),s("blockquote",[s("p",[t._v("触发的生命周期钩子: "),s("code",[t._v("beforeMount")]),t._v("，"),s("code",[t._v("mounted")])])]),t._v(" "),s("p",[t._v("这个阶段会将模板渲染到视图中，同时开启对模板中数据（状态）的监控，当数据（状态）发生变化时通知其依赖进行视图更新（触发 "),s("code",[t._v("beforeUpdate")]),t._v("，"),s("code",[t._v("updated")]),t._v("钩子）")]),t._v(" "),s("h3",{attrs:{id:"销毁阶段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#销毁阶段"}},[t._v("#")]),t._v(" 销毁阶段")]),t._v(" "),s("blockquote",[s("p",[t._v("触发的生命周期钩子: "),s("code",[t._v("beforeDestroy")]),t._v("，"),s("code",[t._v("destroyed")])])]),t._v(" "),s("p",[t._v("调用实例的 "),s("code",[t._v("$destroy")]),t._v(" 方法后就进入该实例的销毁阶段")]),t._v(" "),s("ol",[s("li",[t._v("将当前 "),s("code",[t._v("vue")]),t._v(" 实例从其父级实例中删除")]),t._v(" "),s("li",[t._v("移除自身的依赖追踪和事件监听")]),t._v(" "),s("li",[t._v("标记自身状态为已销毁")])]),t._v(" "),s("h2",{attrs:{id:"对于设计模式的应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#对于设计模式的应用"}},[t._v("#")]),t._v(" 对于设计模式的应用")]),t._v(" "),s("h3",{attrs:{id:"发布订阅"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发布订阅"}},[t._v("#")]),t._v(" 发布订阅")]),t._v(" "),s("p",[s("code",[t._v("$on")]),t._v("、"),s("code",[t._v("$emit")]),t._v("，定义一个事件中心，通过 "),s("code",[t._v("$on")]),t._v(" 订阅事件，将事件存储在事件中心里面，然后通过$emit 触发事件中心里面存储的订阅事件")]),t._v(" "),s("h2",{attrs:{id:"dom-更新策略"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom-更新策略"}},[t._v("#")]),t._v(" DOM 更新策略")]),t._v(" "),s("p",[s("code",[t._v("Vue")]),t._v(" 在更新 "),s("code",[t._v("DOM")]),t._v(" 时是异步执行的。只要侦听到数据变化，"),s("code",[t._v("Vue")]),t._v(" 将开启一个事件队列，并缓冲在同一事件循环中发生的所有数据变更。如果同一个 "),s("code",[t._v("watcher")]),t._v(" 被多次触发，只会被推入到事件队列中一次。这样可以减少重新渲染的频率。然后，在下一个的事件循环“"),s("code",[t._v("tick")]),t._v("”中，"),s("code",[t._v("Vue")]),t._v(" 刷新事件队列并执行实际 (已去重的) 工作。")])])}),[],!1,null,null,null);a.default=n.exports}}]);