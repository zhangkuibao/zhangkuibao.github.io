(window.webpackJsonp=window.webpackJsonp||[]).push([[220],{871:function(t,e,r){"use strict";r.r(e);var a=r(12),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h2",{attrs:{id:"问题场景"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#问题场景"}},[t._v("#")]),t._v(" 问题场景")]),t._v(" "),r("p",[t._v("之前写一个通用弹出层组件，使用 transform 做弹出效果，在弹出层中有一个二级弹出层，这个二级弹出层使用的是 fixed 定位，期望效果是相对于页面定位，但是最终的效果是二级弹出层是相对于通用弹出层组件定位的。")]),t._v(" "),r("h2",{attrs:{id:"导致问题的原因"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#导致问题的原因"}},[t._v("#")]),t._v(" 导致问题的原因")]),t._v(" "),r("p",[t._v("MDN 中 position: fixed 的定义如下：")]),t._v(" "),r("blockquote",[r("p",[t._v("元素会被移出正常文档流，并不为元素预留空间，而是通过指定元素相对于屏幕视口（viewport）的位置来指定元素位置。元素的位置在屏幕滚动时不会改变。打印时，元素会出现在的每页的固定位置。fixed 属性会创建新的层叠上下文。"),r("font",{attrs:{color:"red"}},[t._v("当元素祖先的 transform, perspective 或 filter 属性非 none 时，容器由视口改为该祖先。")])],1)]),t._v(" "),r("p",[t._v("由定义可知问题出现的原因是 fixed 定位元素（二级弹出层）的祖先中有 transform 不为 none 的元素（通用弹出层组件）。")]),t._v(" "),r("p",[t._v("调整弹出层组件后问题解决。")]),t._v(" "),r("h2",{attrs:{id:"演示"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#演示"}},[t._v("#")]),t._v(" 演示")]),t._v(" "),r("page-fixed-invalid"),t._v(" "),r("h1",{attrs:{id:"参考"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://blog.csdn.net/weixin_40594645/article/details/117172746",target:"_blank",rel:"noopener noreferrer"}},[t._v("position：fixed 固定定位失效问题（不是以可视窗口定位）"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/position",target:"_blank",rel:"noopener noreferrer"}},[t._v("position - MDN"),r("OutboundLink")],1)])],1)}),[],!1,null,null,null);e.default=s.exports}}]);