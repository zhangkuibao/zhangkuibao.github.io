(window.webpackJsonp=window.webpackJsonp||[]).push([[293],{943:function(t,a,s){"use strict";s.r(a);var e=s(12),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"传参格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#传参格式"}},[t._v("#")]),t._v(" 传参格式")]),t._v(" "),s("p",[t._v("在 chrome 中观察参数格式会发现有三种情况："),s("code",[t._v("Query String Parameters")]),t._v("、"),s("code",[t._v("Form Data")]),t._v("、"),s("code",[t._v("Request Payload")]),t._v("，主要是因为 "),s("code",[t._v("Content-Type")]),t._v(" 与请求方式的不同导致的。")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("Query String Parameters")]),t._v(" 格式："),s("code",[t._v("?key=value&key=value")]),t._v("。")])]),t._v(" "),s("p",[t._v("即查询参数（query），参数直接拼接在 "),s("code",[t._v("url")]),t._v(" 后面。")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[s("code",[t._v("Form Data")]),t._v(" 格式："),s("code",[t._v("{key: value, key: value}")]),t._v(" 键值对形式。")])]),t._v(" "),s("p",[t._v("请求体参数 （body），"),s("code",[t._v("Content-type")]),t._v(" 为 "),s("code",[t._v("application/x-www-form-urlencoded;charset=utf-8")]),t._v("，参数会以 "),s("code",[t._v("Form Data")]),t._v(" 的形式(数据为 String 键值对格式)传递给接口。")]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("code",[t._v("Request Payload")]),t._v(" 格式："),s("code",[t._v("'{key: value, key: value}'")])])]),t._v(" "),s("p",[t._v("请求体参数 （body），"),s("code",[t._v("Content-type")]),t._v(" 为 "),s("code",[t._v("application/json;charset=utf-8")]),t._v("，参数需要转化为 "),s("code",[t._v("JSON")]),t._v(" 格式。")]),t._v(" "),s("h3",{attrs:{id:"上传文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#上传文件"}},[t._v("#")]),t._v(" 上传文件")]),t._v(" "),s("p",[t._v("上传文件时 "),s("code",[t._v("Content-type")]),t._v(" 为 "),s("code",[t._v("multipart/form-data; boundary=----WebKitFormBoundarys9jOoKcA1Kwn9sYS")]),t._v(" ，用 "),s("code",[t._v("new FormData()")]),t._v(" 处理参数。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" formData "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FormData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nformData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"label"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ID_photo-front"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nformData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"input[type=file]"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("files"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:3000/upload"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("body")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" formData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("processData")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// data 值是 formdata 对象，不需要对数据做处理")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"content-type"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#content-type"}},[t._v("#")]),t._v(" Content-Type")]),t._v(" "),s("p",[s("code",[t._v("http")]),t._v(" 请求头中的配置，告诉服务器参数的格式和编码方式："),s("code",[t._v("Content-Type: [media-type];[charset];boundary")]),t._v("。")]),t._v(" "),s("p",[t._v("原生 "),s("code",[t._v("ajax")]),t._v(" 请求默认 "),s("code",[t._v("Content-Type: text/plain;charset=UTF-8")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://segmentfault.com/a/1190000020665242",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP 请求参数之三种格式"),s("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);