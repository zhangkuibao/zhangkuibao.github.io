<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>【Gulp】API | ZHANGKB</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="
Vinyl 对象是 gulp 中用来表示文件——包括路径、内容和其他元数据的虚拟文件格式。
Vinyl 对象可以由 src() 方法返回也可以自己创建。
src() 方法的返回值就是被读取文件的虚拟文件。
`js
const { src, dest } = require(&quot;gulp&quot;);
function copy() {
  retu ...">
    
    <link rel="preload" href="/assets/css/0.styles.c52d088f.css" as="style"><link rel="preload" href="/assets/js/app.2f2ae7b0.js" as="script"><link rel="preload" href="/assets/js/7.467f0c2b.js" as="script"><link rel="preload" href="/assets/js/3.21d5fa11.js" as="script"><link rel="preload" href="/assets/js/228.c34a5723.js" as="script"><link rel="prefetch" href="/assets/js/10.df874b6e.js"><link rel="prefetch" href="/assets/js/100.6c404324.js"><link rel="prefetch" href="/assets/js/101.d67f3d9e.js"><link rel="prefetch" href="/assets/js/102.a6f56ab5.js"><link rel="prefetch" href="/assets/js/103.1c1817ec.js"><link rel="prefetch" href="/assets/js/104.86197ee9.js"><link rel="prefetch" href="/assets/js/105.765e6caa.js"><link rel="prefetch" href="/assets/js/106.369e0713.js"><link rel="prefetch" href="/assets/js/107.0d2d05ea.js"><link rel="prefetch" href="/assets/js/108.d3679b27.js"><link rel="prefetch" href="/assets/js/109.bbe59276.js"><link rel="prefetch" href="/assets/js/11.8714ce22.js"><link rel="prefetch" href="/assets/js/110.eb5ba140.js"><link rel="prefetch" href="/assets/js/111.ba1f1934.js"><link rel="prefetch" href="/assets/js/112.3e31e741.js"><link rel="prefetch" href="/assets/js/113.bfe47c45.js"><link rel="prefetch" href="/assets/js/114.22cb048a.js"><link rel="prefetch" href="/assets/js/115.cda02b90.js"><link rel="prefetch" href="/assets/js/116.5d180a9b.js"><link rel="prefetch" href="/assets/js/117.31f3349e.js"><link rel="prefetch" href="/assets/js/118.189e7d67.js"><link rel="prefetch" href="/assets/js/119.f9e92a5f.js"><link rel="prefetch" href="/assets/js/12.b5ffcdee.js"><link rel="prefetch" href="/assets/js/120.b63b9fae.js"><link rel="prefetch" href="/assets/js/121.0f1c9656.js"><link rel="prefetch" href="/assets/js/122.6433ba64.js"><link rel="prefetch" href="/assets/js/123.22399a1b.js"><link rel="prefetch" href="/assets/js/124.ed1398a9.js"><link rel="prefetch" href="/assets/js/125.58f001bd.js"><link rel="prefetch" href="/assets/js/126.0b28b1f2.js"><link rel="prefetch" href="/assets/js/127.21e261a8.js"><link rel="prefetch" href="/assets/js/128.4e83d390.js"><link rel="prefetch" href="/assets/js/129.378e7af8.js"><link rel="prefetch" href="/assets/js/13.bd4bb275.js"><link rel="prefetch" href="/assets/js/130.5feca1a5.js"><link rel="prefetch" href="/assets/js/131.5878e469.js"><link rel="prefetch" href="/assets/js/132.67e17f6d.js"><link rel="prefetch" href="/assets/js/133.67d76ced.js"><link rel="prefetch" href="/assets/js/134.d2df3197.js"><link rel="prefetch" href="/assets/js/135.68dae431.js"><link rel="prefetch" href="/assets/js/136.dbe85814.js"><link rel="prefetch" href="/assets/js/137.bf52e775.js"><link rel="prefetch" href="/assets/js/138.d9338d17.js"><link rel="prefetch" href="/assets/js/139.ec6bbd65.js"><link rel="prefetch" href="/assets/js/14.1679191b.js"><link rel="prefetch" href="/assets/js/140.756a69cc.js"><link rel="prefetch" href="/assets/js/141.f6f21d3d.js"><link rel="prefetch" href="/assets/js/142.8033e52b.js"><link rel="prefetch" href="/assets/js/143.283eece6.js"><link rel="prefetch" href="/assets/js/144.f8f328ae.js"><link rel="prefetch" href="/assets/js/145.a96cfc90.js"><link rel="prefetch" href="/assets/js/146.9813433c.js"><link rel="prefetch" href="/assets/js/147.179a6fc3.js"><link rel="prefetch" href="/assets/js/148.174c3b20.js"><link rel="prefetch" href="/assets/js/149.0f18340c.js"><link rel="prefetch" href="/assets/js/15.8a9a37bc.js"><link rel="prefetch" href="/assets/js/150.f28757e1.js"><link rel="prefetch" href="/assets/js/151.0ed3183b.js"><link rel="prefetch" href="/assets/js/152.716a717d.js"><link rel="prefetch" href="/assets/js/153.d3d0d320.js"><link rel="prefetch" href="/assets/js/154.7be27534.js"><link rel="prefetch" href="/assets/js/155.8bf3b761.js"><link rel="prefetch" href="/assets/js/156.7f57fa20.js"><link rel="prefetch" href="/assets/js/157.0c71e1de.js"><link rel="prefetch" href="/assets/js/158.bdea11ff.js"><link rel="prefetch" href="/assets/js/159.f8d6e5f3.js"><link rel="prefetch" href="/assets/js/16.a5d291e6.js"><link rel="prefetch" href="/assets/js/160.792e52be.js"><link rel="prefetch" href="/assets/js/161.83001f0f.js"><link rel="prefetch" href="/assets/js/162.95d31d29.js"><link rel="prefetch" href="/assets/js/163.b16cc1fe.js"><link rel="prefetch" href="/assets/js/164.9d02f520.js"><link rel="prefetch" href="/assets/js/165.65334dad.js"><link rel="prefetch" href="/assets/js/166.9555f94a.js"><link rel="prefetch" href="/assets/js/167.10e928e3.js"><link rel="prefetch" href="/assets/js/168.82f5c7a7.js"><link rel="prefetch" href="/assets/js/169.554604d3.js"><link rel="prefetch" href="/assets/js/17.657c037f.js"><link rel="prefetch" href="/assets/js/170.e9c5a724.js"><link rel="prefetch" href="/assets/js/171.81187bb5.js"><link rel="prefetch" href="/assets/js/172.3f72f592.js"><link rel="prefetch" href="/assets/js/173.772bbb70.js"><link rel="prefetch" href="/assets/js/174.88c9c6cd.js"><link rel="prefetch" href="/assets/js/175.dfa0a47b.js"><link rel="prefetch" href="/assets/js/176.b2fcb8c3.js"><link rel="prefetch" href="/assets/js/177.c853b082.js"><link rel="prefetch" href="/assets/js/178.7f42e98c.js"><link rel="prefetch" href="/assets/js/179.d0082072.js"><link rel="prefetch" href="/assets/js/18.bd793e51.js"><link rel="prefetch" href="/assets/js/180.e1fea4b5.js"><link rel="prefetch" href="/assets/js/181.3faf4cea.js"><link rel="prefetch" href="/assets/js/182.a071d90a.js"><link rel="prefetch" href="/assets/js/183.809a2c64.js"><link rel="prefetch" href="/assets/js/184.e53b3473.js"><link rel="prefetch" href="/assets/js/185.fc51a3ba.js"><link rel="prefetch" href="/assets/js/186.41316acc.js"><link rel="prefetch" href="/assets/js/187.3c105007.js"><link rel="prefetch" href="/assets/js/188.e28a5fb7.js"><link rel="prefetch" href="/assets/js/189.83a03757.js"><link rel="prefetch" href="/assets/js/19.1fb1c3ea.js"><link rel="prefetch" href="/assets/js/190.4a137fe2.js"><link rel="prefetch" href="/assets/js/191.7aa4432b.js"><link rel="prefetch" href="/assets/js/192.09264abe.js"><link rel="prefetch" href="/assets/js/193.6fe36bb7.js"><link rel="prefetch" href="/assets/js/194.1e8043da.js"><link rel="prefetch" href="/assets/js/195.f3d67744.js"><link rel="prefetch" href="/assets/js/196.623249ca.js"><link rel="prefetch" href="/assets/js/197.7518033b.js"><link rel="prefetch" href="/assets/js/198.0bdde0fb.js"><link rel="prefetch" href="/assets/js/199.ad85029c.js"><link rel="prefetch" href="/assets/js/20.05d92748.js"><link rel="prefetch" href="/assets/js/200.655f36aa.js"><link rel="prefetch" href="/assets/js/201.c35b6da9.js"><link rel="prefetch" href="/assets/js/202.fb149141.js"><link rel="prefetch" href="/assets/js/203.b2b103a8.js"><link rel="prefetch" href="/assets/js/204.e98642a5.js"><link rel="prefetch" href="/assets/js/205.22c84cf0.js"><link rel="prefetch" href="/assets/js/206.21b14929.js"><link rel="prefetch" href="/assets/js/207.6c63ef4c.js"><link rel="prefetch" href="/assets/js/208.b58575f1.js"><link rel="prefetch" href="/assets/js/209.0ed6080d.js"><link rel="prefetch" href="/assets/js/21.7897deb9.js"><link rel="prefetch" href="/assets/js/210.fecb2351.js"><link rel="prefetch" href="/assets/js/211.efa9a71a.js"><link rel="prefetch" href="/assets/js/212.7d6c76c0.js"><link rel="prefetch" href="/assets/js/213.9b7cffd0.js"><link rel="prefetch" href="/assets/js/214.71f3f246.js"><link rel="prefetch" href="/assets/js/215.f74df5a8.js"><link rel="prefetch" href="/assets/js/216.29257350.js"><link rel="prefetch" href="/assets/js/217.9fe969ed.js"><link rel="prefetch" href="/assets/js/218.80903c4a.js"><link rel="prefetch" href="/assets/js/219.65768bb3.js"><link rel="prefetch" href="/assets/js/22.d94d25bc.js"><link rel="prefetch" href="/assets/js/220.d93b820b.js"><link rel="prefetch" href="/assets/js/221.41a8bc27.js"><link rel="prefetch" href="/assets/js/222.c95b64a0.js"><link rel="prefetch" href="/assets/js/223.b4b85a55.js"><link rel="prefetch" href="/assets/js/224.787c47ce.js"><link rel="prefetch" href="/assets/js/225.9d533f40.js"><link rel="prefetch" href="/assets/js/226.2a233f0e.js"><link rel="prefetch" href="/assets/js/227.3cedecc1.js"><link rel="prefetch" href="/assets/js/229.12a2beb2.js"><link rel="prefetch" href="/assets/js/23.63089418.js"><link rel="prefetch" href="/assets/js/230.f1166446.js"><link rel="prefetch" href="/assets/js/231.d7b3e9f7.js"><link rel="prefetch" href="/assets/js/232.56a40c60.js"><link rel="prefetch" href="/assets/js/233.05fde9c5.js"><link rel="prefetch" href="/assets/js/234.6495675d.js"><link rel="prefetch" href="/assets/js/235.a8f376ff.js"><link rel="prefetch" href="/assets/js/236.7a119578.js"><link rel="prefetch" href="/assets/js/237.89a08aa9.js"><link rel="prefetch" href="/assets/js/238.4d4fd2bd.js"><link rel="prefetch" href="/assets/js/239.1a949df6.js"><link rel="prefetch" href="/assets/js/24.e8b28169.js"><link rel="prefetch" href="/assets/js/240.c1e1a24f.js"><link rel="prefetch" href="/assets/js/241.e301fd6f.js"><link rel="prefetch" href="/assets/js/242.c5e32895.js"><link rel="prefetch" href="/assets/js/243.2ab813a3.js"><link rel="prefetch" href="/assets/js/244.58bf2cc8.js"><link rel="prefetch" href="/assets/js/245.e4369ca7.js"><link rel="prefetch" href="/assets/js/246.4f6768da.js"><link rel="prefetch" href="/assets/js/247.adcc139c.js"><link rel="prefetch" href="/assets/js/248.c779b5e8.js"><link rel="prefetch" href="/assets/js/249.d9871e73.js"><link rel="prefetch" href="/assets/js/25.c6792692.js"><link rel="prefetch" href="/assets/js/250.62b46e36.js"><link rel="prefetch" href="/assets/js/251.2cf5411a.js"><link rel="prefetch" href="/assets/js/252.3e85a384.js"><link rel="prefetch" href="/assets/js/253.e285cc80.js"><link rel="prefetch" href="/assets/js/254.51931536.js"><link rel="prefetch" href="/assets/js/255.7a7c1c15.js"><link rel="prefetch" href="/assets/js/256.55e53150.js"><link rel="prefetch" href="/assets/js/257.aa5afc39.js"><link rel="prefetch" href="/assets/js/258.030afab5.js"><link rel="prefetch" href="/assets/js/259.03e8598d.js"><link rel="prefetch" href="/assets/js/26.825f4fb2.js"><link rel="prefetch" href="/assets/js/260.658e181e.js"><link rel="prefetch" href="/assets/js/261.552a3cb4.js"><link rel="prefetch" href="/assets/js/262.0df625d6.js"><link rel="prefetch" href="/assets/js/263.de5e4dde.js"><link rel="prefetch" href="/assets/js/264.80042998.js"><link rel="prefetch" href="/assets/js/265.de5504e9.js"><link rel="prefetch" href="/assets/js/266.1b3a0d2f.js"><link rel="prefetch" href="/assets/js/267.24658421.js"><link rel="prefetch" href="/assets/js/268.15fc2634.js"><link rel="prefetch" href="/assets/js/269.a2a2ac3e.js"><link rel="prefetch" href="/assets/js/27.58b973e1.js"><link rel="prefetch" href="/assets/js/270.1bda96de.js"><link rel="prefetch" href="/assets/js/271.0f14d82d.js"><link rel="prefetch" href="/assets/js/272.5f601a19.js"><link rel="prefetch" href="/assets/js/273.9f265d46.js"><link rel="prefetch" href="/assets/js/274.b822a807.js"><link rel="prefetch" href="/assets/js/275.edb5fb8b.js"><link rel="prefetch" href="/assets/js/276.8333bd07.js"><link rel="prefetch" href="/assets/js/277.a4586b67.js"><link rel="prefetch" href="/assets/js/278.8de9d7f8.js"><link rel="prefetch" href="/assets/js/279.f8060916.js"><link rel="prefetch" href="/assets/js/28.ff2bfbf0.js"><link rel="prefetch" href="/assets/js/280.421250d0.js"><link rel="prefetch" href="/assets/js/281.901976e5.js"><link rel="prefetch" href="/assets/js/282.96a1e2b9.js"><link rel="prefetch" href="/assets/js/283.fab4a30f.js"><link rel="prefetch" href="/assets/js/284.6b12cce3.js"><link rel="prefetch" href="/assets/js/285.94a32501.js"><link rel="prefetch" href="/assets/js/286.a2fa84ca.js"><link rel="prefetch" href="/assets/js/287.03ba171e.js"><link rel="prefetch" href="/assets/js/288.5e284d3d.js"><link rel="prefetch" href="/assets/js/289.3eaaeed8.js"><link rel="prefetch" href="/assets/js/29.5167c305.js"><link rel="prefetch" href="/assets/js/290.7e79020c.js"><link rel="prefetch" href="/assets/js/291.7906501e.js"><link rel="prefetch" href="/assets/js/292.cc2dccf7.js"><link rel="prefetch" href="/assets/js/293.b2fbaf33.js"><link rel="prefetch" href="/assets/js/294.a7bf04a3.js"><link rel="prefetch" href="/assets/js/295.407b7608.js"><link rel="prefetch" href="/assets/js/296.8af9da1f.js"><link rel="prefetch" href="/assets/js/297.e72610d0.js"><link rel="prefetch" href="/assets/js/298.7f9ae31a.js"><link rel="prefetch" href="/assets/js/299.9de26e6f.js"><link rel="prefetch" href="/assets/js/30.13a0bfdc.js"><link rel="prefetch" href="/assets/js/300.05d5cb65.js"><link rel="prefetch" href="/assets/js/301.fb9e4dc0.js"><link rel="prefetch" href="/assets/js/302.ac04fc06.js"><link rel="prefetch" href="/assets/js/303.ca737277.js"><link rel="prefetch" href="/assets/js/304.4f3afce6.js"><link rel="prefetch" href="/assets/js/305.c7957781.js"><link rel="prefetch" href="/assets/js/306.2178456c.js"><link rel="prefetch" href="/assets/js/307.e556fbf8.js"><link rel="prefetch" href="/assets/js/308.c3c1b9b9.js"><link rel="prefetch" href="/assets/js/309.28793715.js"><link rel="prefetch" href="/assets/js/31.f505fe88.js"><link rel="prefetch" href="/assets/js/310.e1c52948.js"><link rel="prefetch" href="/assets/js/311.e3341e7a.js"><link rel="prefetch" href="/assets/js/312.051cdf0a.js"><link rel="prefetch" href="/assets/js/313.571b9dcc.js"><link rel="prefetch" href="/assets/js/314.b5c34283.js"><link rel="prefetch" href="/assets/js/315.d5baa432.js"><link rel="prefetch" href="/assets/js/316.a9a10a4e.js"><link rel="prefetch" href="/assets/js/317.4131c6b9.js"><link rel="prefetch" href="/assets/js/318.56610189.js"><link rel="prefetch" href="/assets/js/319.024db7ed.js"><link rel="prefetch" href="/assets/js/32.f4a83005.js"><link rel="prefetch" href="/assets/js/320.b4f58c36.js"><link rel="prefetch" href="/assets/js/321.daf478f4.js"><link rel="prefetch" href="/assets/js/322.83dbb516.js"><link rel="prefetch" href="/assets/js/323.1d9a2321.js"><link rel="prefetch" href="/assets/js/324.60a96f5c.js"><link rel="prefetch" href="/assets/js/325.6ed9a651.js"><link rel="prefetch" href="/assets/js/33.d341b89a.js"><link rel="prefetch" href="/assets/js/34.971aded2.js"><link rel="prefetch" href="/assets/js/35.9e58c17a.js"><link rel="prefetch" href="/assets/js/36.58b68bcb.js"><link rel="prefetch" href="/assets/js/37.323c3203.js"><link rel="prefetch" href="/assets/js/38.c79639fd.js"><link rel="prefetch" href="/assets/js/39.e3c35dcc.js"><link rel="prefetch" href="/assets/js/4.fe92fe1e.js"><link rel="prefetch" href="/assets/js/40.1ec1f7ea.js"><link rel="prefetch" href="/assets/js/41.a7fe0ba2.js"><link rel="prefetch" href="/assets/js/42.bed18481.js"><link rel="prefetch" href="/assets/js/43.68c60f7a.js"><link rel="prefetch" href="/assets/js/44.e852099c.js"><link rel="prefetch" href="/assets/js/45.c606c6bb.js"><link rel="prefetch" href="/assets/js/46.36b39e98.js"><link rel="prefetch" href="/assets/js/47.645a12ea.js"><link rel="prefetch" href="/assets/js/48.134bfbef.js"><link rel="prefetch" href="/assets/js/49.b6612c14.js"><link rel="prefetch" href="/assets/js/5.0d5b953e.js"><link rel="prefetch" href="/assets/js/50.83002b4b.js"><link rel="prefetch" href="/assets/js/51.29c349d4.js"><link rel="prefetch" href="/assets/js/52.bdff7139.js"><link rel="prefetch" href="/assets/js/53.83e5a0f3.js"><link rel="prefetch" href="/assets/js/54.61876357.js"><link rel="prefetch" href="/assets/js/55.ef920084.js"><link rel="prefetch" href="/assets/js/56.44677441.js"><link rel="prefetch" href="/assets/js/57.afddcf09.js"><link rel="prefetch" href="/assets/js/58.74c65708.js"><link rel="prefetch" href="/assets/js/59.3b96c3c8.js"><link rel="prefetch" href="/assets/js/6.edaca4cb.js"><link rel="prefetch" href="/assets/js/60.dee1a06b.js"><link rel="prefetch" href="/assets/js/61.2d766a1c.js"><link rel="prefetch" href="/assets/js/62.e2ca32e2.js"><link rel="prefetch" href="/assets/js/63.dca40c14.js"><link rel="prefetch" href="/assets/js/64.d3563f29.js"><link rel="prefetch" href="/assets/js/65.c6653811.js"><link rel="prefetch" href="/assets/js/66.bf96ce37.js"><link rel="prefetch" href="/assets/js/67.7c4dd392.js"><link rel="prefetch" href="/assets/js/68.472085a6.js"><link rel="prefetch" href="/assets/js/69.5503716b.js"><link rel="prefetch" href="/assets/js/70.cbd6415b.js"><link rel="prefetch" href="/assets/js/71.5967ec45.js"><link rel="prefetch" href="/assets/js/72.f6d5b4df.js"><link rel="prefetch" href="/assets/js/73.83afae94.js"><link rel="prefetch" href="/assets/js/74.4a855c8e.js"><link rel="prefetch" href="/assets/js/75.56fa27c9.js"><link rel="prefetch" href="/assets/js/76.61788f07.js"><link rel="prefetch" href="/assets/js/77.d69633b2.js"><link rel="prefetch" href="/assets/js/78.e8136b41.js"><link rel="prefetch" href="/assets/js/79.41efef4d.js"><link rel="prefetch" href="/assets/js/8.244a52b2.js"><link rel="prefetch" href="/assets/js/80.2cc25c74.js"><link rel="prefetch" href="/assets/js/81.d0273f10.js"><link rel="prefetch" href="/assets/js/82.741a73ae.js"><link rel="prefetch" href="/assets/js/83.9d35a425.js"><link rel="prefetch" href="/assets/js/84.52c4d4d5.js"><link rel="prefetch" href="/assets/js/85.318250de.js"><link rel="prefetch" href="/assets/js/86.68ccbb0e.js"><link rel="prefetch" href="/assets/js/87.91da6e28.js"><link rel="prefetch" href="/assets/js/88.c362a0ec.js"><link rel="prefetch" href="/assets/js/89.9b43e9b7.js"><link rel="prefetch" href="/assets/js/9.6d52f708.js"><link rel="prefetch" href="/assets/js/90.cd37aeb1.js"><link rel="prefetch" href="/assets/js/91.3c0d9b1c.js"><link rel="prefetch" href="/assets/js/92.6b233246.js"><link rel="prefetch" href="/assets/js/93.4b85308b.js"><link rel="prefetch" href="/assets/js/94.1ea39cad.js"><link rel="prefetch" href="/assets/js/95.c5125a60.js"><link rel="prefetch" href="/assets/js/96.ac289b86.js"><link rel="prefetch" href="/assets/js/97.c70197fa.js"><link rel="prefetch" href="/assets/js/98.81eb1d60.js"><link rel="prefetch" href="/assets/js/99.64445ad8.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.d10f0e86.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c52d088f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">ZHANGKB </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/" class="nav-link">HOME</a></li><li class="nav-item"><a href="/tag/" class="nav-link">标签</a></li><li class="nav-item"><span><div role="tooltip" id="el-popover-5590" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><ul class="nav-child-ul"><li class="nav-child-li"><a href="/category/technology/" class="nav-link router-link-active">技术</a></li><li class="nav-child-li"><a href="/category/read/" class="nav-link">阅读</a></li><li class="nav-child-li"><a href="/category/code/" class="nav-link">常用代码</a></li><li class="nav-child-li"><a href="/category/article/" class="nav-link">文章</a></li></ul> </div><span class="el-popover__reference-wrapper"><a class="nav-item-text">博客</a></span></span></li><li class="nav-item"><span><div role="tooltip" id="el-popover-4611" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><ul class="nav-child-ul"><li class="nav-child-li"><a href="/css-exhibit.html" class="nav-link">样式效果</a></li><li class="nav-child-li"><a href="/collect.html" class="nav-link">收藏</a></li><li class="nav-child-li"><a href="/diary.html" class="nav-link">工作日程</a></li></ul> </div><span class="el-popover__reference-wrapper"><a class="nav-item-text">其他页面</a></span></span></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">ZHANGKB </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/" class="nav-link">HOME</a></li><li class="mobile-nav-item"><a href="/tag/" class="nav-link">标签</a></li><li class="mobile-nav-item"><ul class="mobile-nav-ul"><div class="el-divider el-divider--horizontal"><div class="el-divider__text is-center">博客</div></div> <li class="mobile-nav-li"><a href="/category/technology/" class="nav-link router-link-active">技术</a></li><li class="mobile-nav-li"><a href="/category/read/" class="nav-link">阅读</a></li><li class="mobile-nav-li"><a href="/category/code/" class="nav-link">常用代码</a></li><li class="mobile-nav-li"><a href="/category/article/" class="nav-link">文章</a></li></ul></li><li class="mobile-nav-item"><ul class="mobile-nav-ul"><div class="el-divider el-divider--horizontal"><div class="el-divider__text is-center">其他页面</div></div> <li class="mobile-nav-li"><a href="/css-exhibit.html" class="nav-link">样式效果</a></li><li class="mobile-nav-li"><a href="/collect.html" class="nav-link">收藏</a></li><li class="mobile-nav-li"><a href="/diary.html" class="nav-link">工作日程</a></li></ul></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        【Gulp】API
      </h1> <div class="post-meta"><!----> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2021-11-30T09:57:55.000Z">
      Tue Nov 30 2021
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-532d3a9c><a href="/tag/前端工程化" data-v-532d3a9c><span data-v-532d3a9c>前端工程化</span></a></li><li class="post-tag" data-v-532d3a9c><a href="/tag/Gulp" data-v-532d3a9c><span data-v-532d3a9c>Gulp</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h2 id="vinyl"><a href="#vinyl" class="header-anchor">#</a> Vinyl</h2> <p><code>Vinyl</code> 对象是 <code>gulp</code> 中用来表示文件——包括路径、内容和其他元数据的虚拟文件格式。</p> <p><code>Vinyl</code> 对象可以由 <code>src()</code> 方法返回也可以自己创建。</p> <p><code>src()</code> 方法的返回值就是被读取文件的虚拟文件。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> src<span class="token punctuation">,</span> dest <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;input/*.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;output/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

exports<span class="token punctuation">.</span>copy <span class="token operator">=</span> copy<span class="token punctuation">;</span>
</code></pre></div><h3 id="vinyl-构造函数"><a href="#vinyl-构造函数" class="header-anchor">#</a> vinyl 构造函数</h3> <p>自己创建 <code>Vinyl</code> 对象需要引入 <code>vinyl</code> 模块。</p> <p>语法：<code>new Vinyl([options])</code></p> <ul><li><a href="https://www.gulpjs.com.cn/docs/api/vinyl/#%E9%80%89%E9%A1%B9" target="_blank" rel="noopener noreferrer">options 对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Vinyl <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;vinyl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vinyl</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">cwd</span><span class="token operator">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">base</span><span class="token operator">:</span> <span class="token string">&quot;/test/&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/test/file.js&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">contents</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Buffer</span><span class="token punctuation">(</span><span class="token string">&quot;var x = 123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

file<span class="token punctuation">.</span>relative <span class="token operator">===</span> <span class="token string">&quot;file.js&quot;</span><span class="token punctuation">;</span>

file<span class="token punctuation">.</span>dirname <span class="token operator">===</span> <span class="token string">&quot;/test&quot;</span><span class="token punctuation">;</span>
file<span class="token punctuation">.</span>dirname <span class="token operator">=</span> <span class="token string">&quot;/specs&quot;</span><span class="token punctuation">;</span>
file<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">&quot;/specs/file.js&quot;</span><span class="token punctuation">;</span>

file<span class="token punctuation">.</span>basename <span class="token operator">===</span> <span class="token string">&quot;file.js&quot;</span><span class="token punctuation">;</span>
file<span class="token punctuation">.</span>basename <span class="token operator">=</span> <span class="token string">&quot;file.txt&quot;</span><span class="token punctuation">;</span>
file<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">&quot;/specs/file.txt&quot;</span><span class="token punctuation">;</span>

file<span class="token punctuation">.</span>stem <span class="token operator">===</span> <span class="token string">&quot;file&quot;</span><span class="token punctuation">;</span>
file<span class="token punctuation">.</span>stem <span class="token operator">=</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
file<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">&quot;/specs/foo.txt&quot;</span><span class="token punctuation">;</span>
file<span class="token punctuation">.</span>extname <span class="token operator">===</span> <span class="token string">&quot;.txt&quot;</span><span class="token punctuation">;</span>
file<span class="token punctuation">.</span>extname <span class="token operator">=</span> <span class="token string">&quot;.js&quot;</span><span class="token punctuation">;</span>
file<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">&quot;/specs/file.js&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="静态方法"><a href="#静态方法" class="header-anchor">#</a> 静态方法</h3> <h4 id="vinyl-isvinyl"><a href="#vinyl-isvinyl" class="header-anchor">#</a> Vinyl.isVinyl()</h4> <p>检测一个对象（object）是否是一个 Vinyl 实例。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Vinyl <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;vinyl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vinyl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> notAFile <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

Vinyl<span class="token punctuation">.</span><span class="token function">isVinyl</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
Vinyl<span class="token punctuation">.</span><span class="token function">isVinyl</span><span class="token punctuation">(</span>notAFile<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="vinyl-iscustomprop"><a href="#vinyl-iscustomprop" class="header-anchor">#</a> Vinyl.isCustomProp()</h4> <p>确定一个属性是否由 Vinyl 在内部进行管理。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Vinyl <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;vinyl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Vinyl<span class="token punctuation">.</span><span class="token function">isCustomProp</span><span class="token punctuation">(</span><span class="token string">&quot;sourceMap&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
Vinyl<span class="token punctuation">.</span><span class="token function">isCustomProp</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vinyl-实例属性"><a href="#vinyl-实例属性" class="header-anchor">#</a> Vinyl 实例属性</h3> <table><thead><tr><th>属性</th> <th>类型</th> <th>描述</th> <th>抛出错误</th></tr></thead> <tbody><tr><td>contents</td> <td>ReadableStream Buffer <code>null</code></td> <td>获取和设置虚拟文件的内容。如果将其设置为 ReadableStream，它将被包装在一个 <a href="https://github.com/mcollina/cloneable-readable" target="_blank" rel="noopener noreferrer">可克隆可读的<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 流中。</td> <td>如果设置为 ReadableStream， Buffer，或者 <code>null</code> 之外的任何值</td></tr> <tr><td>stat</td> <td>object</td> <td>获取或设置 <a href="https://www.gulpjs.com.cn/docs/api/concepts#file-system-stats" target="_blank" rel="noopener noreferrer"><code>fs.Stats</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的实例。当确定 Vinyl 对象是否表示目录或符号链接时使用。</td> <td></td></tr> <tr><td>cwd</td> <td>string</td> <td>获取并设置当前工作目录。用于推导相对路径。</td> <td>如果设置为空字符串或任何非字符串值。</td></tr> <tr><td>base</td> <td>string</td> <td>获取和设置基目录。用于计算 <code>relative</code> 实例属性。 在由 <code>src()</code> 生成的 Vinyl 对象上，将设置为 [glob base][global -base-concepts]。如果设置为 <code>null</code> 或 <code>undefined</code>，则会退到 <code>cwd</code> 实例属性的值。</td> <td>如果设置为空字符串或任何非字符串值(<code>null</code> 或 <code>undefined</code> 除外)。</td></tr> <tr><td>path</td> <td>string</td> <td>获取和设置完整的绝对文件路径。设置为与当前 <code>path</code> 不同的值会将新路径附加到 <code>history</code> 实例属性中。</td> <td>如果设置为任何非字符串值。</td></tr> <tr><td>history</td> <td>array</td> <td>已分配的 Vinyl 对象的所有 <code>path</code> 值的数组。第一个元素是原始路径，最后一个元素是当前路径。此属性及其元素应被视为只读，仅通过设置 <code>path</code>实例属性间接更改。</td> <td></td></tr> <tr><td>relative</td> <td>string</td> <td>获取 <code>base</code> 和 <code>path</code> 实例属性之间的相对路径段。</td> <td>如果设置为任何值。如果在 <code>path</code> 不可用时访问。</td></tr> <tr><td>dirname</td> <td>string</td> <td>获取和设置 <code>path</code> 实例属性的目录。</td> <td>如果在 <code>path</code> 不可用时访问</td></tr> <tr><td>stem</td> <td>string</td> <td>获取并设置 <code>path</code> 实例属性的 stem（没有扩展的文件名）。</td> <td>如果在 <code>path</code> 不可用时访问</td></tr> <tr><td>extname</td> <td>string</td> <td>获取并设置 <code>path</code> 实例属性的扩展名。</td> <td>如果在 <code>path</code> 不可用时访问</td></tr> <tr><td>basename</td> <td>string</td> <td>获取和设置 <code>path</code> 实例属性的文件名(<code>stem + extname</code>)。</td> <td>如果在 <code>path</code> 不可用时访问</td></tr> <tr><td>symlink</td> <td>string</td> <td>获取和设置符号链接的引用路径。</td> <td>如果设置为任何非字符串值。</td></tr></tbody></table> <h3 id="实例方法"><a href="#实例方法" class="header-anchor">#</a> 实例方法</h3> <table><thead><tr><th style="text-align:center;">方法</th> <th style="text-align:center;">返回值类型</th> <th>返回值</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>isBuffer()</code></td> <td style="text-align:center;">boolean</td> <td>如果 <code>contents</code> 实例属性是一个 Buffer，则返回 true。</td></tr> <tr><td style="text-align:center;"><code>isStream()</code></td> <td style="text-align:center;">boolean</td> <td>如果 <code>contents</code> 实例属性是一个 Stream，则返回 true。</td></tr> <tr><td style="text-align:center;"><code>isNull()</code></td> <td style="text-align:center;">boolean</td> <td>如果 <code>contents</code> 实例属性为 <code>null</code>，则返回 true。</td></tr> <tr><td style="text-align:center;"><code>isDirectory()</code></td> <td style="text-align:center;">boolean</td> <td>如果实例表示一个目录，则返回 true。当 <code>isNull()</code> 返回 true，<code>stat</code> 实例属性是一个对象，并且 <code>stat.isDirectory()</code> 返回 true 时，实例被认为是一个目录。这假设 Vinyl 对象是用一个有效的（或适当模拟的） <code>fs.Stats</code> 对象构造的。</td></tr> <tr><td style="text-align:center;"><code>isSymbolic()</code></td> <td style="text-align:center;">boolean</td> <td>如果实例表示符号链接，则返回 true。 当 <code>isNull()</code> 返回 true，<code>stat</code> 实例属性是一个对象，并且 <code>stat.isSymbolicLink()</code> 返回 true 时， 实例被认为是 symbolic。 这假设 Vinyl 对象是用一个有效的（或适当模拟的） <code>fs.Stats</code> 对象构造的。</td></tr> <tr><td style="text-align:center;"><code>clone([options])</code></td> <td style="text-align:center;">object</td> <td>A new Vinyl object with all properties cloned. 一个使用所有属性克隆出的新的 Vinyl 对象。 默认情况下，自定义属性是深拷贝。如果 <code>deep</code> 选项为 false，自定义属性将被浅拷贝。如果 <code>contents</code> 选项设置为 fasle 并且 <code>contents</code> 属性是一个 Buffer，那么这个 Buffer 将被复用，而不是克隆。</td></tr> <tr><td style="text-align:center;"><code>inspect()</code></td> <td style="text-align:center;">string</td> <td>返回 Vinyl 对象的格式化说明。由 Node 的 console.log 自动调用。</td></tr></tbody></table> <h3 id="扩展-vinyl"><a href="#扩展-vinyl" class="header-anchor">#</a> 扩展 Vinyl</h3> <p>当在内部管理自定义属性时，必须扩展静态 <code>isCustomProp</code> 方法，并在查询其中一个自定义属性时返回 <code>false</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Vinyl <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;vinyl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> builtInProps <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;_foo&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SuperFile</span> <span class="token keyword">extends</span> <span class="token class-name">Vinyl</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_foo <span class="token operator">=</span> <span class="token string">&quot;example internal read-only value&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_foo<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> <span class="token function">isCustomProp</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">isCustomProp</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> builtInProps<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="src-globs-options"><a href="#src-globs-options" class="header-anchor">#</a> src(globs, [options])</h2> <p>创建一个流，用于从文件系统读取 <code>Vinyl 对象</code>。</p> <ul><li><p>globs 用于匹配文件的字符串或字符串数组。</p></li> <li><p><a href="https://www.gulpjs.com.cn/docs/api/src/#%E9%80%89%E9%A1%B9" target="_blank" rel="noopener noreferrer">options 选项<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></li></ul> <p><code>src()</code> 接受 <code>glob</code>组字符串或由多个 <code>glob</code> 字符串组成的数组作为参数。</p> <p><code>glob</code> 或 <code>glob</code> 数组必须至少匹配到一个匹配项，否则 <code>src()</code> 将报错： <code>File not found with singular glob</code>，可将 <code>allowEmpty</code> 选项设置为 <code>true</code> 避免此错误。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> src<span class="token punctuation">,</span> dest <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;input/*.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;output/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

exports<span class="token punctuation">.</span>copy <span class="token operator">=</span> copy<span class="token punctuation">;</span>
</code></pre></div><h3 id="返回值"><a href="#返回值" class="header-anchor">#</a> 返回值</h3> <p>一个表示文件——包括路径、内容和其他元数据的 <code>Vinyl 对象</code>。</p> <h2 id="dest-directory-options"><a href="#dest-directory-options" class="header-anchor">#</a> dest(directory, [options])</h2> <p>创建一个用于将 Vinyl 对象写入到文件系统的流。</p> <ul><li><p>directory 输出目录，作为函数时必须返回一个字符串目录路径。</p></li> <li><p><a href="https://www.gulpjs.com.cn/docs/api/dest/#%E9%80%89%E9%A1%B9" target="_blank" rel="noopener noreferrer">options 选项<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> src<span class="token punctuation">,</span> dest <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;input/*.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;output/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

exports<span class="token punctuation">.</span>copy <span class="token operator">=</span> copy<span class="token punctuation">;</span>
</code></pre></div><h2 id="lastrun-task-precision"><a href="#lastrun-task-precision" class="header-anchor">#</a> lastRun(task, [precision])</h2> <p>检索在当前运行进程中成功完成的最后一次任务的完成时间。</p> <ul><li><p>task 已注册任务的任务函数或字符串别名。</p></li> <li><p>precision 时间戳精度，Node v0.10 版本中是 1000，在 Node v0.12+ 版本中是 0 。</p></li></ul> <p>当与 <code>src()</code> 组合时，通过跳过自上次成功完成任务以来没有更 改的文件，使增量构建能够加快执行时间。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> src<span class="token punctuation">,</span> dest<span class="token punctuation">,</span> lastRun<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> imagemin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-imagemin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">images</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;src/images/**/*.jpg&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">since</span><span class="token operator">:</span> <span class="token function">lastRun</span><span class="token punctuation">(</span>images<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">imagemin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;build/img/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">default</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">&quot;src/images/**/*.jpg&quot;</span><span class="token punctuation">,</span> images<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="返回值-2"><a href="#返回值-2" class="header-anchor">#</a> 返回值</h3> <p>返回一个时间戳（以毫秒为单位），表示任务的最后完成时间。</p> <p>如果任务尚未运行或已经失败，则返回 undefined。</p> <h3 id="时间戳精度"><a href="#时间戳精度" class="header-anchor">#</a> 时间戳精度</h3> <ul><li>lastRun(someTask) 返回 1426000001111</li> <li>lastRun(someTask, 100) 返回 1426000001100</li> <li>lastRun(someTask, 1000) 返回 1426000001000</li></ul> <h2 id="series-tasks"><a href="#series-tasks" class="header-anchor">#</a> series(...tasks)</h2> <p>按顺序执行任务。</p> <ul><li>...tasks 任意数量的任务函数或已注册任务的字符串。</li></ul> <p>当执行组合操作时，所有任务将按顺序运行。如果一个任务中发生错误，则不会运行后续任务。</p> <p>当运行组合操作时，每个任务将在每次提供时执行，应当避免重复任务。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> series <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">javascript</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// body omitted</span>
  <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">css</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// body omitted</span>
  <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

exports<span class="token punctuation">.</span>build <span class="token operator">=</span> <span class="token function">series</span><span class="token punctuation">(</span>javascript<span class="token punctuation">,</span> css<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="返回值-3"><a href="#返回值-3" class="header-anchor">#</a> 返回值</h3> <p>返回一个组合，可以被嵌套在其他 <code>series</code> 或 <code>parallel</code> 组合中。</p> <h2 id="parallel-tasks"><a href="#parallel-tasks" class="header-anchor">#</a> parallel(...tasks)</h2> <p>异步（同时）执行任务。</p> <p>其他行为与 <code>series()</code> 一致。</p> <h2 id="watch-globs-options-task"><a href="#watch-globs-options-task" class="header-anchor">#</a> watch(globs, [options], [task])</h2> <p>监听文件变化。</p> <ul><li>globs 用于匹配文件的字符串或字符串数组。</li> <li><a href="https://www.gulpjs.com.cn/docs/api/watch/#%E9%80%89%E9%A1%B9" target="_blank" rel="noopener noreferrer">options 选项<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>task 一个 任务函数或由 series() 和 parallel() 生成的组合任务</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> watch <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;input/*.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;!input/something.js&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// body omitted</span>
  <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="返回值-4"><a href="#返回值-4" class="header-anchor">#</a> 返回值</h3> <p><a href="https://www.npmjs.com/package/chokidar" target="_blank" rel="noopener noreferrer">chokidar<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的底层实例，用于对监听设置进行细粒度控制。</p> <h2 id="task-taskname-taskfunction"><a href="#task-taskname-taskfunction" class="header-anchor">#</a> task([taskName], taskFunction)</h2> <p>在任务系统中定义任务，此 API 已不被推荐，更推荐的做法是导出 task。</p> <ul><li>taskName 任务名称，缺省时使用任务函数的 <code>taskFunction.name</code> 或 <code>taskFunction.displayName</code>（需手动定义） 属性。</li> <li>taskFunction 任务函数。</li></ul> <p>避免在任务名称中使用空格。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> task <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// body omitted</span>
  <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 注册命名函数</span>
<span class="token function">task</span><span class="token punctuation">(</span>build<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 注册匿名函数</span>
<span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&quot;build&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// body omitted</span>
  <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取已注册任务的索引</span>
<span class="token keyword">const</span> buildIdx <span class="token operator">=</span> <span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&quot;build&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="返回值-5"><a href="#返回值-5" class="header-anchor">#</a> 返回值</h3> <p>注册任务时不返回任何内容。</p> <p>检索任务时，返回已注册任务的包装函数。</p> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <p><a href="https://www.gulpjs.com.cn/docs/api/vinyl" target="_blank" rel="noopener noreferrer">vinyl<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#vinyl" title="Vinyl">Vinyl</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#vinyl-构造函数" title="vinyl 构造函数">vinyl 构造函数</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#静态方法" title="静态方法">静态方法</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#vinyl-实例属性" title="Vinyl 实例属性">Vinyl 实例属性</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#实例方法" title="实例方法">实例方法</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#扩展-vinyl" title="扩展 Vinyl">扩展 Vinyl</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#src-globs-options" title="src(globs, [options])">src(globs, [options])</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#返回值" title="返回值">返回值</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#dest-directory-options" title="dest(directory, [options])">dest(directory, [options])</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#lastrun-task-precision" title="lastRun(task, [precision])">lastRun(task, [precision])</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#返回值-2" title="返回值">返回值</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#时间戳精度" title="时间戳精度">时间戳精度</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#series-tasks" title="series(...tasks)">series(...tasks)</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#返回值-3" title="返回值">返回值</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#parallel-tasks" title="parallel(...tasks)">parallel(...tasks)</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#watch-globs-options-task" title="watch(globs, [options], [task])">watch(globs, [options], [task])</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#返回值-4" title="返回值">返回值</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#task-taskname-taskfunction" title="task([taskName], taskFunction)">task([taskName], taskFunction)</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#返回值-5" title="返回值">返回值</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#参考" title="参考">参考</a></div></div></div></div> <footer class="footer" data-v-8eb634d6><div class="footer-left-wrap" data-v-8eb634d6><ul class="contact" data-v-8eb634d6><li class="contact-item" data-v-8eb634d6><a href="https://github.com/vuejs/vuepress" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-8eb634d6><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-8eb634d6><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-8eb634d6></path></svg>
          
        </a></li><li class="contact-item" data-v-8eb634d6><a href="https://github.com/vuejs/vuepress" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-8eb634d6><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter" data-v-8eb634d6><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" data-v-8eb634d6></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-8eb634d6><ul class="copyright" data-v-8eb634d6><li class="copyright-item" data-v-8eb634d6><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-8eb634d6>Privacy Policy</a></li><li class="copyright-item" data-v-8eb634d6>MIT Licensed | Copyright © 2018-present Vue.js</li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2f2ae7b0.js" defer></script><script src="/assets/js/7.467f0c2b.js" defer></script><script src="/assets/js/3.21d5fa11.js" defer></script><script src="/assets/js/228.c34a5723.js" defer></script>
  </body>
</html>
