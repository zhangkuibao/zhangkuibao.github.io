---
date: 2022-02-28 12:05:49
title: JS 防抖节流函数
tags:
  - myGit
  - learning-Notes
  - document
  - technology
  - 常用代码
  - JS
---

## 防抖函数

在延迟范围内重复调用只执行最后一次。

- 一参：待执行函数。
- 二参：延迟多久后执行。

```js
function antiShake(fn, interval = 300) {
  let timmer;
  return function (...args) {
    clearTimeout(timmer);
    timmer = setTimeout(fn, interval, ...args);
  };
}

window.onresize = antiShake(function () {
  console.log(1);
});
```

## 节流函数

在延迟时间后才可再次执行函数。

- 一参：待执行函数。
- 二参：延迟多久后可再次执行。

```js
function throttle(fn, interval = 300) {
  let canExecute = false;
  let timmer = null;
  return function (...args) {
    if (!canExecute) {
      fn.apply(null, ...args);
      canExecute = true;
      timmer = setTimeout(() => {
        canExecute = false;
        timmer = null;
      }, interval);
    }
  };
}

window.onresize = throttle(function () {
  console.log(1);
});
```
