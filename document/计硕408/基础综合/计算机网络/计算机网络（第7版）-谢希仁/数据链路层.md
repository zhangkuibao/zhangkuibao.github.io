<author-info date="1646463456971"></author-info>

# 数据链路层

## 本章要点

1. 数据链路层通信方式的特点。
2. 三个基本问题：封装成帧、透明传输、差错检测。
3. 以太网MAC层的硬件地址。
4. 数据链路层的常用设备。

## 摘要

1. 路由器在转发分组时使用的协议栈只有下面的三层。


## 数据链路层的工作步骤

- 发送端的数据链路层接收到网络层下发的数据时添加首部和尾部组成帧
- 把帧发送到链路上
- 接收端的数据链路层判断若收到的帧无差错则从收到的帧中提取出IP数据报上交给网络层，否则丢弃这个帧。



## 数据链路层的通信方式

### 点对点信道

#### 点对点信道的协议数据单元——帧


### 广播信道


## 基本问题：封装成帧、透明传输、差错检测

### 封装成帧

数据链路层在收到数据后在数据首部和尾部各加入特定的控制字符组成帧。

接收端数据链路层收到帧后根据控制字符来提取数据和判断帧是否完整。

首部控制字符：SOH（十六进制编码为01）
尾部部控制字符：EOT（十六进制编码为04）

### 透明传输

透明传输指的是传递双方不用关心数据链路层的内部实现，发送端发出的数据能完整的被接收端接收。

为了避免数据中出现控制字符而导致数据链路层不能正常提取数据，在封装帧时会在数据中出现的控制字符前加入转义字符，数据中出现的转义字符之前也会加入转义字符。

## 名词释义

### 数据链路

当需要再一条线路上传送数据时，除了必须要有一条物理线路外，还必须有一些必要的通信协议来控制这些数据的传输。

把实现这些协议的硬件和软件加到链路上，就构成了数据链路。
